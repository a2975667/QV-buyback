{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.html","webpack:///src/app/complete/complete.component.html","webpack:///src/app/demographic/demographic.component.html","webpack:///src/app/donation/donation.component.html","webpack:///src/app/likert/likert.component.html","webpack:///src/app/option/option.component.html","webpack:///src/app/questionnaire/questionnaire.component.html","webpack:///src/app/summary/summary.component.html","webpack:///src/app/survey/survey.component.html","webpack:///src/app/video/video.component.html","webpack:///src/app/welcome/welcome.component.html","webpack:///node_modules/tslib/tslib.es6.js","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.scss","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/complete/complete.component.scss","webpack:///src/app/complete/complete.component.ts","webpack:///src/app/demographic/demographic.component.scss","webpack:///src/app/demographic/demographic.component.ts","webpack:///src/app/donation/donation.component.scss","webpack:///src/app/donation/donation.component.ts","webpack:///src/app/likert/likert.component.scss","webpack:///src/app/likert/likert.component.ts","webpack:///src/app/option/option.component.scss","webpack:///src/app/option/option.component.ts","webpack:///src/app/questionnaire/questionnaire.component.scss","webpack:///src/app/questionnaire/questionnaire.component.ts","webpack:///src/app/services/demographic.service.ts","webpack:///src/app/services/donation.service.ts","webpack:///src/app/services/global.service.ts","webpack:///src/app/services/likert.service.ts","webpack:///src/app/services/video.service.ts","webpack:///src/app/summary/summary.component.scss","webpack:///src/app/summary/summary.component.ts","webpack:///src/app/survey/survey.component.scss","webpack:///src/app/survey/survey.component.ts","webpack:///src/app/video/video.component.scss","webpack:///src/app/video/video.component.ts","webpack:///src/app/welcome/welcome.component.scss","webpack:///src/app/welcome/welcome.component.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","value","step","next","rejected","result","done","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__exportStar","m","__values","o","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","routes","path","component","AppRoutingModule","imports","forRoot","onSameUrlNavigation","AppComponent","title","selector","template","AppModule","declarations","providers","bootstrap","CompleteComponent","cookieService","route","deleteAll","snapshot","paramMap","get","text","url","DemographicComponent","demoFormService","demoForm","subscribe","data","questions","showNav","requestForm","submit","pathIndex","Number","getCookieById","pathArray","JSON","parse","type","navigate","location","reload","shuffle","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","DonationComponent","donationService","MAX","organizations","sum","ogObserver","ogs","donations","forEach","console","log","complete","requestOrganizations","orgId","LikertComponent","liService","json","html","userID","userId","likertForm","disabled","decidePath","OptionComponent","gService","questionSet","currentQuestionIndex","currentQuestion","question_list","currentOptions","options","votes","fill","totalCredits","totalCredit","vote","index","isMinus","currentDirection","currentCredits","calCurrentTotalCredits","difference","pow","abs","isNextPossibleTotalCreditsOK","o_index","originalVote","votesContent","modifyVotesByID","QuestionnaireComponent","numQuestion","numFile","currentFile","questionnaire","questionContent","questionDes","description","questionTitle","question","getQuestionnaire","DemographicService","http","requestUrl","apiUrl","donationAPI","pipe","handleError","ErrorEvent","message","status","submitAPI","post","providedIn","DonationService","completeJsonAPI","completeJSON","donation","calTotalCredits","votesArray","q_totalUsedCredits","GlobalService","router","usedCredits","userGP","gp","val","set","undefined","completeFlag","submitPost","complete_flag","file_name","getCurrentPath","qid","results","user_id","emit","usedCreditsArray","q_id","o_id","update","height","finalQuestionValue","nextQuestionIndex","submitData","generateSubmitPost","setCookieById","String","finalQuestion","LikertService","check","fileName","fileAPI","conditions","noFailedQuestion","path_id","isQVTestResultFailed","userid","res","VideoService","videoForm","SummaryComponent","swalTargets","percentage","submitForm","required","minLength","submitSuccessSwal","dismiss","confirmSubmitSwal","fire","static","SurveyComponent","resultEmit","suveyModel","that","surveyModel","showCompletedPage","render","model","isExpanded","showNavigationButtons","onComplete","add","sender","VideoComponent","vService","clicked","videoContainer","video","videoElement","ready","scale","videoFilePrefix","videoSrc","audioFilePrefix","audioSrc","configurations","videoIsPlaying","objectKeys","videoConfig","videoConfigLength","sumUpCost","arr","reduce","videoIsJittering","jitterTempData","showCost","showConfig","sliderOptions","showTicksValues","stepsArray","legend","saveApply","save","counter","survey","completeFunc","completeLastPage","bind","jitterVal","videoTimerSubscription","unsubscribe","blackTimer","freshback","audioTimerSubscription","muteTimer","audioElement","volume","syncAudioWithVideoValue","currentTime","unsubscribeSurvices","reassignVideoSrc","syncAudioWithVideo","addEventListener","play","ctx","canvasElement","getContext","min","canvas","width","videoWidth","videoHeight","requestAnimationFrame","updateCanvas","jitterAudio","jitterVideo","time","Date","now","formJson","videoTempTime","audioTempTime","src","nativeElement","clearRect","vidH","vidW","top","left","drawImage","paused","drawPayIcon","values","map","refreshPlayback","pause","remove","videoPlayer","audioPlayer","videoOverlayElement","videoOverlay","settings","normal","Description","Title","control_panel_has_price","control_panel_can_change","toString","surveySubmit","stringify","fillStyle","globalAlpha","fillRect","beginPath","size","moveTo","lineTo","closePath","WelcomeComponent","condition_one","condition_two","condition_three","blockAccess","navigator","userAgent","user","isSubmit","getUserID","initCookie","alert","environment","production","bootstrapModule","catch","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"\\n<router-outlet></router-outlet>\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n<div class=\\\"container\\\">\\n\\t<div class=\\\"container\\\">\\n\\t\\t<h1>{{title}}</h1>\\n\\t</div>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<ul class=\\\"list-group list-group-flush\\\">\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\n\\t\\t\\t\\t\\t\\tTo be paid, you will need the following code:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\" style=\\\"color: darkred;\\\">\\n\\t\\t\\t\\t\\t\\t{{code}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<p>Please return to the original hit page and paste in the code above. After pasting the code, You can download the debrief information about this experiment <a href='/download/debreif' target=\\\"_blank\\\">here.</a></p>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<!--<p>\\n\\t\\t\\t{{text}}\\n\\t\\t</p>-->\\n\\t</div>\\n</div>\\n\"","export default \"<app-survey [json]=\\\"demoForm\\\" (resultEmit)=\\\"submit($event)\\\"></app-survey>\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n<div class=\\\"container\\\">\\n\\t<div class=\\\"container\\\">\\n\\t\\t<h1>Lottery & Donation</h1>\\n\\t\\t<p>\\n\\t\\t\\tYou have entered a lottery where one person will win $35. You will win $35 with a chance of 1 out of 70.\\n\\t\\t\\tIf you win the lottery, you can choose to donate part of or all of the winning amount to <b>one or more\\n\\t\\t\\t\\torganizations</b> listed below. The research team will <b>match $1 to each $1 you donate</b> on your\\n\\t\\t\\tbehalf. The amount you choose to keep will be paid through a MTurk bonus. Please specify the donation\\n\\t\\t\\tdollar amount to your organization of interest. To learn more about each organization, you can click on\\n\\t\\t\\tthe hyperlink of the organization name and visit its website and a new tab or new window would open.\\n\\t\\t\\t<br><br>\\n\\t\\t\\tIf you are the winner of the lottery, the research team will donate the specified amount plus the\\n\\t\\t\\tmatched amount to the chosen organizations on your behalf, and the amount you choose to keep will be\\n\\t\\t\\tpaid through bonus on MTurk.\\n\\t\\t\\t<br><br>\\n\\t\\t\\tPlease allocate the desired dollar amount for donation to the organizations of your interest.\\n\\t\\t</p>\\n\\t</div>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<ul class=\\\"list-group list-group-flush\\\">\\n\\t\\t\\t<li class=\\\"list-group-item\\\" *ngFor=\\\"let org of this.organizations; let i = index\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\" style=\\\"color: white;\\\">\\n\\t\\t\\t\\t\\t\\t{{org.orgId}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t\\t<div [innerHTML]=\\\"org.org\\\"></div>\\n\\t\\t\\t\\t\\t\\t<!--{{org.org}}-->\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\">\\n\\t\\t\\t\\t\\t\\t$ <input min=\\\"0\\\" max=\\\"35\\\" [(ngModel)]=\\\"donations[org.orgId]\\\" (keyup)=\\\"caculate(org.orgId)\\\"\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"display: inline; width: 80%\\\" type=\\\"number\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n\\t\\t\\t\\t\\t\\t\\toninput=\\\"validity.valid||(value='');\\\" onkeyup=\\\"validity.valid||(value='');\\\"\\n\\t\\t\\t\\t\\t\\t\\tonkeydown=\\\"validity.valid||(value='');\\\" onchange=\\\"validity.valid||(value='');\\\"\\n\\t\\t\\t\\t\\t\\t\\tonclick=\\\"validity.valid||(value='');\\\" id=\\\"org.orgId\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\"></div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">{{org.description}}</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\"> </div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\">\\n\\t\\t\\t\\t\\t\\tSubtotal:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\">\\n\\t\\t\\t\\t\\t\\t$ {{sum}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-2\\\">\\n\\t\\t\\t\\t\\t\\tSummary:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t\\tIf you win the lottery, you will donate ${{sum}} and receive ${{MAX-sum}}. The research team\\n\\t\\t\\t\\t\\t\\twill match ${{sum}} for your donation.\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-2\\\">\\n\\t\\t\\t\\t\\t\\t<button (click)=\\\"submit()\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">Submit</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\\n\"","export default \"<app-survey *ngIf=\\\"json.questions\\\" [json]=\\\"json\\\" (resultEmit)=\\\"submit($event)\\\"></app-survey>\\n<div *ngIf=\\\"html\\\" class=\\\"container\\\">\\n    <div [innerHTML]=\\\"html\\\"></div>\\n    <button (click)=\\\"submit(null, $event)\\\" type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\">\\n        Submit\\n    </button>\\n</div>\\n\"","export default \"<div class=\\\"container\\\">\\n    <ul class=\\\"list-group list-group-flush\\\">\\n        <li class=\\\"list-group-item\\\" *ngFor=\\\"let option of this.currentOptions; let i = index\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-1\\\">\\n                    <button (click)=\\\"modifyVotesByID(i, 1)\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm\\\" [disabled]=\\\"isDisabled(i, false)\\\">\\n                            <i class=\\\"fas fa-plus\\\"></i>\\n                    </button>\\n                    <button (click)=\\\"modifyVotesByID(i, -1)\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm\\\" [disabled]=\\\"isDisabled(i, true)\\\">\\n                        <i class=\\\"fas fa-minus\\\"></i>\\n                    </button>\\n                </div>\\n                <div class=\\\"col-8\\\">\\n                    {{option.option}}\\n                    <div *ngIf=\\\"votes[i] >= 0; then tick else cross\\\"></div>\\n                    <ng-template #tick>\\n                        <i *ngFor=\\\"let k of [].constructor(votes[i])\\\" class=\\\"far fa-check-circle tick\\\"></i>\\n                    </ng-template>\\n                    <ng-template #cross>\\n                        <i *ngFor=\\\"let k of [].constructor(-votes[i])\\\" class=\\\"far fa-times-circle cross\\\"></i>\\n                    </ng-template>\\n                </div>\\n                <div class=\\\"col-3\\\">\\n                    <small style=\\\"float: left; margin: 0\\\">0%</small>\\n                    <small style=\\\"float: right; margin: 0\\\">100%</small>\\n                    <progressbar *ngIf=\\\"votes[i]>=0\\\" type=\\\"info\\\" style=\\\"width: 100%;\\\" [max]=\\\"this.totalCredits\\\" [value]=\\\"votes[i]*votes[i]\\\" [striped]=\\\"true\\\" [animate]=\\\"true\\\">\\n                            <i>{{((votes[i]*votes[i])/this.totalCredits)*100 | number : '1.2-2'}}%</i>\\n                    </progressbar>\\n                    <progressbar *ngIf=\\\"votes[i]<0\\\" type=\\\"warning\\\" style=\\\"width: 100%;\\\" [max]=\\\"this.totalCredits\\\" [value]=\\\"votes[i]*votes[i]\\\" [striped]=\\\"true\\\" [animate]=\\\"true\\\">\\n                        <i>{{((votes[i]*votes[i])/this.totalCredits)*100 | number : '1.2-2'}}%</i>\\n                    </progressbar>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                    <div class=\\\"col-1\\\"></div>\\n                    <div class=\\\"col-8\\\">{{option.description}}</div>\\n                    <div class=\\\"col-3\\\"> Casted {{votes[i]}} vote(s), cost {{votes[i]*votes[i]}} credit(s)</div>\\n\\n            </div>\\n        </li>\\n\\n    </ul>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-2\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t\\t<div class=\\\"progress\\\">\\n\\t\\t\\t<div class=\\\"progress-bar progress-bar-striped progress-bar-animated\\\"\\n\\t\\t\\t\\t[style.width.%]=\\\"(currentQuestion+1/numQuestion)*100\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"col-sm-2\\\" align=\\\"right\\\">\\n\\t\\tPart {{currentFile}} Q{{currentQuestion+1}} / {{numFile}} Parts\\n\\t</div>\\n</nav>\\n\\n\\n<div class=\\\"container\\\">\\n\\t<br>\\n\\t<h1>{{questionTitle}}</h1>\\n\\t<h3 *ngIf=\\\"questionTitle=='QV Dry Run: Understanding what is Quadratic Voting'\\\">Please watch this video</h3>\\n\\t<iframe *ngIf=\\\"questionTitle=='QV Dry Run: Understanding what is Quadratic Voting'\\\"\\n\\t\\tstyle=\\\"height: 60vh; width: 100%;\\\" src=\\\"https://www.youtube.com/embed/-eTn0UwZGK4\\\" frameborder=\\\"0\\\"\\n\\t\\tallow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\" allowfullscreen></iframe>\\n\\t<br>\\n\\n\\t<p *ngIf=\\\"questionTitle!='QV Dry Run: Understanding what is Quadratic Voting'\\\">People have different preferences in\\n\\t\\thow resources should be allocated for different societal causes. Here we listed 9 different societal causes. For\\n\\t\\teach of the causes listed below, what do you think about <b> how effort and resources should be contributed\\n\\t\\t\\ttoward the causes? </b></p>\\n\\t<p>\\n\\t\\tFor this question, you will use a <b>Binary Quadratic Voting</b> method to express your preferences.\\n\\t\\t<br><br>\\n\\t\\tYou will be given a budget of a certain number of <b> voice credits</b>. You will use the available credits to\\n\\t\\tcast votes. If you think more resources should be allocated to a certain cause, you can cast multiple\\n\\t\\tupvotes using the <b>+1 sign</b>. If you believe that less less resources should be allocated on a certain\\n\\t\\tcause, you can cast a few downvotes using the <b> -1 sign</b>. If you are neutral on a cause, you can choose to\\n\\t\\tcast <b> no vote </b>.\\n\\n\\t\\t<br><br>\\n\\t\\t<b> Based on the intensity of your opinion, you can cast one or more upvote or downvotes for each cause</b>. The\\n\\t\\tstronger your opinion is, the more votes you can put on one option. At the same time, as the number of votes\\n\\t\\tincreases, the voice credits it costs increases quadratically, i.e. <b> X votes will cost X^2 (square of X)\\n\\t\\t\\tcredits</b>. The cost of some common number of votes is specified in the table below:\\n\\t</p>\\n\\t<table align=\\\"center\\\">\\n\\t\\t<tbody>\\n\\t\\t\\t<tr align=\\\"center\\\">\\n\\t\\t\\t\\t<th>Number of up or down votes</th>\\n\\t\\t\\t\\t<td align=\\\"center\\\">1</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">2</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">3</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">4</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">5</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">6</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">7</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">8</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">9</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">10</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t<!-- <tr align=\\\"center\\\">\\n\\t\\t\\t\\t\\t<th align=\\\"center\\\">&dArr;</th>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t</tr> -->\\n\\t\\t\\t<tr align=\\\"right\\\">\\n\\t\\t\\t\\t<th align=\\\"right\\\">Cost in number of voice credits</th>\\n\\t\\t\\t\\t<td align=\\\"center\\\">1</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">4</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">9</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">16</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">25</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">36</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">49</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">64</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">81</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">100</td>\\n\\t\\t\\t</tr>\\n\\t\\t</tbody>\\n\\t</table>\\n\\t<p>\\n\\t\\t<br>\\n\\t\\t<b>You cannot exceed the budget of given voice credits, but you do not have to use up all the available credits\\n\\t\\t\\teither. </b> You can see the total number of voice credits you have and the amount of credits you have spent\\n\\t\\talready in the “Summary” section below.\\n\\t</p>\\n\\t<hr>\\n\\t<div [innerHTML]=\\\"questionDes\\\"></div>\\n</div>\\n<br>\\n\\n<app-option></app-option>\\n\\n<br>\\n<br>\\n\\n<app-summary></app-summary>\\n<br>\\n\"","export default \"<swal\\n  #confirmSubmit\\n  title=\\\"Submit with 0 vote?\\\"\\n  text=\\\"This cannot be undone\\\"\\n  icon=\\\"question\\\"\\n  [showCancelButton]=\\\"true\\\"\\n  [focusCancel]=\\\"true\\\"\\n  (confirm)=\\\"submitSuccessSwal.fire()\\\">\\n</swal>\\n<swal\\n  #submitSuccess\\n  icon=\\\"question\\\"\\n  [showCancelButton]=\\\"false\\\"\\n  [showConfirmButton]=\\\"false\\\"\\n>\\n<form *swalPortal=\\\"swalTargets.content\\\" >\\n    <p>\\n        In 2 to 3 sentences, what is the reason that you make this decision?\\n    </p>\\n    <textarea\\n        class=\\\"swal2-textarea\\\"\\n        type=\\\"text\\\"\\n        [formControl]=\\\"submitForm\\\"\\n        autofocus\\n    ></textarea>\\n    <label *ngIf=\\\"submitForm.invalid\\\" [ngClass] = \\\"'error'\\\" > Your response required with min 1 character. </label>\\n    <br/>\\n    <button\\n    (click)=\\\"submitFinalForm()\\\"\\n    *ngIf=\\\"!submitForm.invalid\\\"\\n    class=\\\"swal2-styled swal2-confirm\\\"> Submit</button>\\n\\n</form>\\n\\n</swal>\\n<div class=\\\"container sticky\\\">\\n    <div class=\\\"card\\\">\\n        <h5 class=\\\"card-header\\\">Summary</h5>\\n            <div class=\\\"card-body\\\">\\n                <h5 class=\\\"card-title\\\">Used {{usedCredits}} out of {{totalCredits}} credits</h5>\\n                <div class=\\\"card-text\\\">\\n                    <div>\\n                        <small style=\\\"float: left; margin: 0\\\">0</small>\\n                        <small style=\\\"float: right; margin: 0\\\">{{totalCredits}}</small>\\n                        <progressbar style=\\\"width: 100%; margin-bottom: 10px;\\\" [animate]=\\\"false\\\" [value]=\\\"percentage\\\" [type]=\\\"type\\\"></progressbar>\\n                    </div>\\n                </div>\\n                <button (click)=\\\"submit()\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">Submit</button>\\n            </div>\\n    </div>\\n</div>\\n\"","export default \"<div class=\\\"survey-container contentcontainer codecontainer\\\">\\n  <div id=\\\"surveyElement\\\"></div>\\n</div>\"","export default \"<div class=\\\"container\\\">\\n    <h1>\\n        {{title}}\\n    </h1>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm wrap-content\\\" [innerHTML]=\\\"description\\\"></div>\\n    </div>\\n\\n    <h2 *ngIf=\\\"formJson && formJson.settings.normal\\\">\\n        Questions\\n    </h2>\\n    <app-survey\\n        *ngIf=\\\"formJson && formJson.settings.normal\\\"\\n        [json]=\\\"survey\\\"\\n        (suveyModel)=\\\"getSurvey($event)\\\"\\n        (resultEmit)=\\\"surveySubmit($event)\\\">\\n    </app-survey>\\n\\n    <h2>\\n        Video\\n    </h2>\\n\\n    <div class=\\\"row justify-content-center\\\">\\n        <div style=\\\"justify-content: center;\\\" #videoOverlay class=\\\"original\\\" (click)=\\\"playPause()\\\">\\n            <video\\n                #videoPlayer\\n                style=\\\"display: none;\\\"\\n                src=\\\"\\\"\\n                ></video>\\n            <canvas #canvas\\n            style=\\\"margin-left:20%\\\"\\n            width=\\\"960px\\\" height=\\\"540px\\\"></canvas>\\n            </div>\\n        <audio\\n        #audioPlayer\\n        src=\\\"\\\">\\n        </audio>\\n    </div>\\n\\n   <p></p>\\n    <div >\\n\\n        <h2>\\n            Configuration\\n        </h2>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm wrap-content\\\">\\n                <table class=\\\"table\\\">\\n                    <thead>\\n                      <tr>\\n                        <th scope=\\\"col\\\">Configuration Name</th>\\n                        <th scope=\\\"col\\\" colspan=5>Level ( 0 ~ 3 )</th>\\n                        <th *ngIf=\\\"showCost\\\" scope=\\\"col\\\" colspan=3>Cost</th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr style=\\\"height: 100px;\\\"*ngFor=\\\"let k of objectKeys(configurations)\\\">\\n                            <th style=\\\"width: 20%;\\\"colspan=\\\"1\\\" scope=\\\"row\\\">{{k}}</th>\\n                            <td colspan=\\\"7\\\">\\n                                <ng5-slider\\n                                    [(value)]=\\\"configurations[k]\\\"\\n                                    [options]=\\\"sliderOptions\\\"\\n                                    (userChange)=\\\"onRadioCheck()\\\"></ng5-slider>\\n                            </td>\\n                            <td *ngIf=\\\"showCost\\\" colspan=\\\"1\\\">\\n                                ${{configurations[k]*3}}\\n                            </td>\\n                        </tr>\\n                        <tr *ngIf=\\\"showCost\\\">\\n                            <th *ngIf=\\\"showCost\\\" scope=\\\"row\\\"></th>\\n                            <td colspan=\\\"7\\\">\\n                            </td>\\n                            <td>\\n                                Total: ${{sumUpCost(videoConfig)*3}}\\n                            </td>\\n                        </tr>\\n                    </tbody>\\n                  </table>\\n              </div>\\n        </div>\\n    </div>\\n\\t<br>\\n    <button style=\\\"float: right;\\\" [disabled]=\\\"clicked\\\" (click)=\\\"submit($event)\\\" type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\">\\n        Submit\\n    </button>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n\\n<div *ngIf=\\\"!blockAccess\\\" class=\\\"container\\\">\\n\\t<form (ngSubmit)=\\\"createUser()\\\" class=\\\"was-validated\\\" #validForm=\\\"ngForm\\\">\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<h1>Welcome to the study</h1>\\n\\t\\t\\t<h4>Video Element Study Consent Form</h4>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou are being asked to participate in a voluntary research study. The purpose of this study is to understand how different people weight the importance of different elements that influences video watching. Participating in this study will involve you using an interface that provides a set of slider bars to experience how different combination of video elements impact your watching experience. You will be asked to complete some tasks or surveys regarding the video. The entire survey will last around 8 to 16 minutes. There are no known risks associated with our study.\\n\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t- Principal Investigator Name and Title: Dr. Hari Sundaram\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t- Department and Institution: Department of Computer Science, University of Illinois at Urbana Champaign\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t- Contact Information: <a target=\\\"_blank\\\" href=\\\"mailto:hs1@illinois.edu\\\">Dr. Hari Sundaram</a>\\n\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>What procedures are involved?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<b></b> A video interface will be presented to you. You will be asked to tune the different slider to experience the impact of different video elements on the video. You will be asked to watch the entire video but feel free to spend as much time as you like with the interface. A questionnaire or a task will then be presented to collect some of your experience on watching the video.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will my study-related information be kept confidential?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tFaculty, students, and staff who may see your information will maintain confidentiality to the extent of laws and university policies. Personal identifiers are neither collected nor will be published or presented.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will I be reimbursed for any expenses or paid for my participation in this research?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou will be paid $1.25 base pay through MTurk when you are done with the study. You may receive an extra $0.75 or $1.25 bonus through MTurk when you complete the study if given one of the two longer version of the survey. There might be additional bonus based on the task you are assigned. Payment is dependent on your quality completion of the task.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Can I withdraw or be removed from the study?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tIf you decide to participate, you are free to withdraw your consent and discontinue participation at any time. The researchers also have the right to stop your participation in this study without your consent if they believe it is in your best interests, and/or you were to object to any future changes that may be made in the study plan. Your participation in this research is voluntary. Your decision whether or not to participate, or to withdraw after beginning participation, will not affect your current or future dealings with the University of Illinois at Urbana-Champaign.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will data collected from me be used for any other research?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYour de-identified information could be used for future research without additional informed consent.\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h5>Who should I contact if I have questions?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tQuestions about this research study should be directed to Dr. Hari Sundaram (hs1@illinois.edu) in the Department of Computer Science at University of Illinois, Urbana-Champaign. If you have any questions about your rights as a participant in this study or any concerns or complaints, please contact the University of Illinois Institutional Review Board at 217-333-2670 or via irb@illinois.edu.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5> How will the results be disseminated?\\n\\t\\t\\t</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tThe results will be disseminated via journal articles, academic paper, conference presentations, PhD thesis, and/or Open Science Framework. Please download and print this <a target=\\\"_blank\\\" href=\\\"/download/consent\\\">consent form </a> if you would like to retain a copy for your records.\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h5>Please use a Laptop or PC with Chrome, Firefox or Microsoft Edge to complete this survey.</h5>\\n\\t\\t\\t<h5>By continuing, I certify that I have read this form and volunteer to participate in this research study.<br></h5>\\n\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"condition_one\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition1\\\"\\n\\t\\t\\t\\t\\t\\trequired> I have read and understand the above consent form.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"condition_two\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition2\\\"\\n\\t\\t\\t\\t\\t\\trequired> I certify that I am 18 years old or older.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"condition_three\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition3\\\"\\n\\t\\t\\t\\t\\t\\trequired> I understand that by clicking the continue button to enter the survey, I indicate my willingness to voluntarily take part in this study.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\" [disabled]=\\\"!validForm.form.valid || isSubmit\\\">\\n\\t\\t\\t\\tStart Questionaire\\n\\t\\t\\t</button>\\n\\t\\t\\t<button (click)=\\\"cancel()\\\"type=\\\"button\\\" class=\\\"mr-2 btn btn-danger\\\" [disabled]=\\\"validForm.form.valid\\\">\\n\\t\\t\\t\\tCancel\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\t\\n<div *ngIf=\\\"blockAccess\\\" class=\\\"container\\\">\\n\\t<h1>The current browser cannot run this app.\\n\\t\\n\\t<p>Please consider Firefox or Google Chrome</p>\\n<div>\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WelcomeComponent } from './welcome/welcome.component';\nimport { QuestionnaireComponent } from './questionnaire/questionnaire.component';\nimport { DonationComponent } from './donation/donation.component';\nimport { LikertComponent } from './likert/likert.component';\nimport { DemographicComponent } from './demographic/demographic.component';\nimport { CompleteComponent } from './complete/complete.component';\nimport { VideoComponent } from './video/video.component';\n\n\nconst routes: Routes = [\n  { path: 'welcome/:id', component: WelcomeComponent },\n  { path: 'demographic', component: DemographicComponent },\n  { path: 'qv', component: QuestionnaireComponent},\n  { path: 'donation', component: DonationComponent},\n  { path: 'likert', component: LikertComponent},\n  { path: 'video', component: VideoComponent},\n  { path: 'complete', component: CompleteComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","export default \".header {\\n  position: fixed;\\n  width: 100%;\\n  top: 0;\\n  background-color: aqua;\\n  z-index: 1090;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxXQUFBO0VBQ0EsTUFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRvcDogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XHJcbiAgICB6LWluZGV4OiAxMDkwO1xyXG59XHJcbiIsIi5oZWFkZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHdpZHRoOiAxMDAlO1xuICB0b3A6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XG4gIHotaW5kZXg6IDEwOTA7XG59Il19 */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'qv';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ProgressbarModule } from 'ngx-bootstrap/progressbar';\nimport { SummaryComponent } from './summary/summary.component';\nimport { OptionComponent } from './option/option.component';\nimport { WelcomeComponent } from './welcome/welcome.component';\nimport { QuestionnaireComponent } from './questionnaire/questionnaire.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DonationComponent } from './donation/donation.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { LikertComponent } from './likert/likert.component';\nimport { SurveyComponent } from './survey/survey.component';\nimport { DemographicComponent } from './demographic/demographic.component';\nimport { CompleteComponent } from './complete/complete.component';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport { VideoComponent } from './video/video.component';\nimport { Ng5SliderModule } from 'ng5-slider';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SummaryComponent,\n    OptionComponent,\n    WelcomeComponent,\n    QuestionnaireComponent,\n    DonationComponent,\n    LikertComponent,\n    SurveyComponent,\n    DemographicComponent,\n    CompleteComponent,\n    VideoComponent\n  ],\n  imports: [\n    ReactiveFormsModule,\n    Ng5SliderModule,\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    ProgressbarModule.forRoot(),\n    FormsModule,\n    SweetAlert2Module.forRoot(),\n  ],\n  providers: [ CookieService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBsZXRlL2NvbXBsZXRlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-complete',\n  templateUrl: './complete.component.html',\n  styleUrls: ['./complete.component.scss']\n})\nexport class CompleteComponent implements OnInit {\n  title: string;\n  text: string;\n  code: string;\n  url: string;\n  constructor(\n    private cookieService: CookieService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.cookieService.deleteAll('/');\n    this.title = this.route.snapshot.paramMap.get('title');\n    this.code = this.route.snapshot.paramMap.get('userId');\n    this.text = this.route.snapshot.paramMap.get('text');\n\n    if (this.title == 'null'){\n      this.title = \"Thank you\"\n      this.text = \"Unfortunately the survey has collected enough response.\"\n      this.url = \"\";\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW9ncmFwaGljL2RlbW9ncmFwaGljLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { DemographicService } from '../services/demographic.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-demographic',\n  templateUrl: './demographic.component.html',\n  styleUrls: ['./demographic.component.scss']\n})\nexport class DemographicComponent implements OnInit {\n  demoForm: Object;\n  constructor(\n    private route: Router,\n    private cookieService: CookieService,\n    private demoFormService: DemographicService\n  ) { \n  }\n\n  ngOnInit() {\n    this.demoFormService.demoForm.subscribe(data => {\n      this.demoForm = {\n        questions: data['survey'],\n        showNav: true,\n      }    \n    })\n    this.demoFormService.requestForm();\n  }\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n  submit(data){\n    this.demoFormService.submit(data).subscribe(\n      result => {\n        let pathIndex = Number(this.getCookieById('user_current_path_index'));\n        let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n        let type: string = pathArray[pathIndex]['type'];       \n        if(type == 'normal'){\n          this.route.navigate(['likert']);\n        } else if (type == 'video') {\n          this.route.navigate(['video']).then(()=>location.reload());\n        } else {\n          this.route.navigate(['qv']);\n        }\n      }\n    );\n  }\n \n}\n","export default \"/* Chrome, Safari, Edge, Opera */\\ninput::-webkit-outer-spin-button,\\ninput::-webkit-inner-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n/* Firefox */\\ninput[type=number] {\\n  -moz-appearance: textfield;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC9kb25hdGlvbi9kb25hdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZG9uYXRpb24vZG9uYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0NBQUE7QUFDQTs7RUFFRSx3QkFBQTtFQUNBLFNBQUE7QUNDRjtBREVBLFlBQUE7QUFDQTtFQUNFLDBCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9kb25hdGlvbi9kb25hdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENocm9tZSwgU2FmYXJpLCBFZGdlLCBPcGVyYSAqL1xuaW5wdXQ6Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sXG5pbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgbWFyZ2luOiAwO1xufVxuXG4vKiBGaXJlZm94ICovXG5pbnB1dFt0eXBlPW51bWJlcl0ge1xuICAtbW96LWFwcGVhcmFuY2U6dGV4dGZpZWxkO1xufVxuIiwiLyogQ2hyb21lLCBTYWZhcmksIEVkZ2UsIE9wZXJhICovXG5pbnB1dDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcbmlucHV0Ojotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBtYXJnaW46IDA7XG59XG5cbi8qIEZpcmVmb3ggKi9cbmlucHV0W3R5cGU9bnVtYmVyXSB7XG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { DonationService } from '../services/donation.service';\nimport { isNull } from 'util';\n\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n}\n@Component({\n  selector: 'app-donation',\n  templateUrl: './donation.component.html',\n  styleUrls: ['./donation.component.scss']\n})\n\nexport class DonationComponent implements OnInit {\n  MAX = 35;\n  organizations: Array<Object> = [];\n  sum: number = 0;\n  donations;\n  constructor(\n    private donationService: DonationService\n  ) { }\n\n  ngOnInit() {\n    let ogObserver = {\n      next: ogs => {\n        this.organizations=shuffle(ogs)\n        this.donations = {}\n        this.organizations.forEach(v => {\n          this.donations[v['orgId']] = 0;\n        })\n      },\n      error: error => console.log('A error: ' + error),\n      complete: () => console.log('ogObserver complete!')\n    }\n    this.donationService.organizations.subscribe(ogObserver)\n    this.donationService.requestOrganizations();\n  }\n  caculate(orgId){\n    this.sum = 0;\n    Object.keys(this.donations).forEach(key => {\n      this.sum = this.sum + this.donations[key];\n    });\n    if(this.sum > this.MAX){\n      this.donations[orgId] = this.donations[orgId]-(this.sum - this.MAX)\n      this.sum = this.MAX;\n    }\n  }\n  submit(){\n    Object.keys(this.donations).forEach(key => {\n      if(isNull(this.donations[key])){\n        this.donations[key] = 0;\n      }\n    });\n    this.donationService.submit(this.donations);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpa2VydC9saWtlcnQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input} from '@angular/core';\nimport { LikertService } from '../services/likert.service';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-likert',\n  templateUrl: './likert.component.html',\n  styleUrls: ['./likert.component.scss']\n})\nexport class LikertComponent implements OnInit {\n  json: any = {questions: null};\n  html: object | boolean = false;\n  constructor(\n    private liService: LikertService,\n    private route: Router,\n    private cookieService: CookieService,\n  ) { }\n\n  decidePath() {\n    let pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    let pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    let type: string = pathArray[pathIndex]['type'];\n    if(type == 'normal'){\n      this.route.navigate(['likert']);\n      this.liService.requestForm();\n    } else if(type == 'qv'){\n      this.route.navigate(['qv']);\n    } else if(type == 'video'){\n      this.route.navigate(['video']).then(()=>location.reload());\n    } else if(type == 'complete'){\n      const userID = this.cookieService.get('user_id');\n      this.cookieService.deleteAll('/');\n      this.route.navigate(['complete', {userId: userID, text: null, title: null }]);\n    }\n  }\n\n  ngOnInit() {\n    this.liService.requestForm();\n    this.liService.likertForm.subscribe(data => {\n      if(data['survey']){\n        this.json = {\n          questions: data['survey'],\n          showNav: true,\n        }\n      }\n      if(data['html']) {\n        this.html = data['html'];\n      }\n    })\n  }\n\n  submit(data, e?){\n    if(e) {\n      e.target.disabled = true;\n    }\n    this.liService.submit(data).subscribe(\n      result => {\n        this.decidePath();\n      }\n    );\n  }\n}\n","export default \".tick {\\n  color: #007bff;\\n}\\n\\n.cross {\\n  color: orange;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQ0NKOztBRENBO0VBQ0ksYUFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvb3B0aW9uL29wdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aWNrIHtcclxuICAgIGNvbG9yOiAjMDA3YmZmO1xyXG59XHJcbi5jcm9zcyB7XHJcbiAgICBjb2xvcjogb3JhbmdlO1xyXG59IiwiLnRpY2sge1xuICBjb2xvcjogIzAwN2JmZjtcbn1cblxuLmNyb3NzIHtcbiAgY29sb3I6IG9yYW5nZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service';\nimport { GlobalService } from '../services/global.service';\nimport { User } from '../schema/user';\nimport { Questionnaire } from '../schema/questionnaire'\nimport { Question } from '../schema/question';\nimport { Option } from '../schema/option';\n@Component({\n  selector: 'app-option',\n  templateUrl: './option.component.html',\n  styleUrls: ['./option.component.scss']\n})\nexport class OptionComponent implements OnInit {\n  \n  votes: Array<number>;\n  currentOptions: Array<Option>;\n  totalCredits: number;\n  currentQuestionIndex: number;\n  constructor(\n    private gService: GlobalService, \n  ) { }\n\n  ngOnInit() {\n    this.gService.questionSet.subscribe((data: Questionnaire)=>{\n      this.currentQuestionIndex = data.currentQuestion;\n      let currentQuestion = data.question_list[this.currentQuestionIndex];\n      this.currentOptions = currentQuestion.options;\n      this.votes=new Array(this.currentOptions.length).fill(0);\n      this.totalCredits = currentQuestion.totalCredits;\n      this.gService.votes.subscribe(votes => {\n        this.votes = votes[this.currentQuestionIndex];\n      })\n    })\n  }\n  calCurrentTotalCredits() {\n    let totalCredit = 0;\n    this.votes.forEach(vote => {\n      totalCredit = totalCredit + vote*vote;\n    });\n    return totalCredit;\n  }\n  isDisabled(index: number, isMinus: boolean) {\n    let currentDirection = isMinus ? this.votes[index] <= 0 : this.votes[index] >= 0;\n    let currentCredits = this.calCurrentTotalCredits();\n    let difference = Math.pow((Math.abs(this.votes[index])+1), 2) - Math.pow(this.votes[index], 2);\n    let isNextPossibleTotalCreditsOK = currentCredits + difference > this.totalCredits;\n    return currentDirection && isNextPossibleTotalCreditsOK;\n  }\n  modifyVotesByID(o_index, value){\n    let originalVote = this.gService.votesContent[\n      this.currentQuestionIndex\n    ][\n      o_index\n    ];\n    this.gService.modifyVotesByID(this.currentQuestionIndex+1, o_index+1, originalVote+value);\n  }\n}\n","export default \"td {\\n  padding-left: 0.5em;\\n  padding-right: 0.5em;\\n  width: 2em;\\n  border: 1px solid grey;\\n}\\n\\nth, tr {\\n  padding-left: 1em;\\n  padding-right: 1em;\\n  border: 1px solid grey;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC9xdWVzdGlvbm5haXJlL3F1ZXN0aW9ubmFpcmUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3F1ZXN0aW9ubmFpcmUvcXVlc3Rpb25uYWlyZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxVQUFBO0VBQ0Esc0JBQUE7QUNDRDs7QURHQTtFQUNDLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQ0FEIiwiZmlsZSI6InNyYy9hcHAvcXVlc3Rpb25uYWlyZS9xdWVzdGlvbm5haXJlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGQge1xuXHRwYWRkaW5nLWxlZnQ6IDAuNWVtO1xuXHRwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcblx0d2lkdGg6IDJlbTtcblx0Ym9yZGVyOiAxcHggc29saWQgZ3JleTtcbn1cblxuXG50aCwgdHIge1xuXHRwYWRkaW5nLWxlZnQ6IDFlbTtcblx0cGFkZGluZy1yaWdodDogMWVtO1xuXHRib3JkZXI6IDFweCBzb2xpZCBncmV5O1xufVxuIiwidGQge1xuICBwYWRkaW5nLWxlZnQ6IDAuNWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcbiAgd2lkdGg6IDJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcbn1cblxudGgsIHRyIHtcbiAgcGFkZGluZy1sZWZ0OiAxZW07XG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service';\nimport { GlobalService } from '../services/global.service';\nimport { User } from '../schema/user';\nimport { Questionnaire } from '../schema/questionnaire'\nimport { Question } from '../schema/question';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-questionnaire',\n  templateUrl: './questionnaire.component.html',\n  styleUrls: ['./questionnaire.component.scss']\n})\nexport class QuestionnaireComponent implements OnInit {\n  questionnaire: Questionnaire;\n  currentQuestion: number = 0;\n  numQuestion: number = 1;\n  questionTitle: string;\n  questionDes: string;\n  numFile: number = 1;\n  currentFile: number = 1;\n  constructor(\n    private gService: GlobalService,\n    private route: Router,\n    private cookieService: CookieService\n  ) { }\n\n  ngOnInit() {\n    let pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    let pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    console.log(pathArray[pathIndex]);\n    let type: string = pathArray[pathIndex]['type'];\n    \n    if(type == 'normal'){\n      this.route.navigate(['likert']);\n    } else if(type == 'qv'){\n      this.gService.questionSet.subscribe((data: Questionnaire)=>{\n        this.questionnaire = data;\n        this.currentQuestion = data.currentQuestion;\n        this.numQuestion = data.question_list.length;\n        let questionContent = data.question_list[this.currentQuestion];\n        this.questionDes = questionContent.description;\n        this.questionTitle = questionContent.question;\n        let pathArray: Array<string> = JSON.parse(this.cookieService.get('user_path'));\n        this.numFile = pathArray.length;\n        let pathIndex = Number(this.cookieService.get('user_current_path_index'));\n        this.currentFile = pathIndex + 1;\n      })\n      this.gService.getQuestionnaire();\n    } else if(type == 'video') {\n      this.route.navigate(['video']).then(()=>location.reload());\n    } else if(type == 'complete') {\n      const userID = this.cookieService.get('user_id');\n      this.cookieService.deleteAll('/');\n      this.route.navigate(['complete', {userId: userID, text: null, title: null }]);\n    }\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { environment } from '../../environments/environment';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DemographicService {\n  requestUrl = environment.apiUrl;\n  demoForm: BehaviorSubject<Object> = new BehaviorSubject({});\n  constructor(\n    private cookieService: CookieService,\n    private http: HttpClient,\n  ) { }\n  requestForm(){\n    let donationAPI = `${this.requestUrl}/api/demographic`;\n    this.http.get(donationAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      this.demoForm.next(data);\n    });\n  }\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n  getCookieById(id: string){\n    return this.cookieService.get(id);\n  }\n  submit(data){\n    let userId = this.getCookieById('user_id');\n\n    let submitAPI = `${this.requestUrl}/submit-demographic`;\n    return this.http.post(submitAPI,\n      {\n        userId: userId,\n        data: data\n      }).pipe(\n      catchError(this.handleError)\n    );\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DonationService {\n  requestUrl = environment.apiUrl;\n  organizations: BehaviorSubject<Array<Object>> = new BehaviorSubject([]);\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private route: Router,\n  ) { }\n\n  requestOrganizations(){\n    let donationAPI = `${this.requestUrl}/api/donation`;\n    this.http.get(donationAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      this.organizations.next(data['donation']);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  };\n\n  getCookieById(id: string){\n    return this.cookieService.get(id);\n  }\n  submit(data){\n    let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    let pathIndex = Number(this.getCookieById('user_current_path_index'))+1;\n    let completeJsonAPI = `${this.requestUrl}/thank_you/${pathArray[pathIndex]['file']}`;\n    this.http.get(completeJsonAPI).subscribe(completeJSON=>{\n      let userId = this.getCookieById('user_id');\n      this.cookieService.deleteAll('/');\n      let submitAPI = `${this.requestUrl}/submit-donation`;\n      this.http.post(submitAPI,{\n        donation: data,\n        userId: userId,\n      }).pipe(\n        catchError(this.handleError)\n      ).subscribe(result => {\n        this.route.navigate(['complete',{...completeJSON, userId: userId}])\n      })\n    })\n\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { User } from '../schema/user';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { Questionnaire } from '../schema/questionnaire';\nimport { CookieService } from 'ngx-cookie-service';\nimport { submitPostSchema } from '../schema/submitPostSchema';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\nfunction calTotalCredits(votesArray) {\n  let q_totalUsedCredits = 0;\n  votesArray.forEach(vote => {\n    q_totalUsedCredits = q_totalUsedCredits + Math.pow(vote, 2);\n  });\n  return q_totalUsedCredits;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n  requestUrl = environment.apiUrl;\n  @Output() questionSet: EventEmitter<object> = new EventEmitter();\n  @Output() votes: EventEmitter<Array<Array<number>>> = new EventEmitter();\n  @Output() usedCredits: EventEmitter<Array<number>> = new EventEmitter();\n  votesContent: Array<Array<number>>;\n  usedCreditsArray: Array<number>;\n  questionnaire: Questionnaire;\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) {}\n\n  getUserID(userGP: string) {\n    return this.http.post<User>(`${this.requestUrl}/createUser`, {gp: userGP})\n    .pipe(\n      catchError(this.handleError)\n    );\n  }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  setCookieById(id: string, val: string) {\n    this.cookieService.set(id, val, undefined, '/');\n  }\n\n  getCurrentPath() :string {\n    let pathIndex = Number(this.getCookieById('user_current_path_index'));\n    let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    return pathArray[pathIndex]['file'];\n  }\n\n  generateSubmitPost(completeFlag: boolean) {\n    let submitPost: submitPostSchema = {} as submitPostSchema;\n    submitPost.complete_flag = completeFlag;\n    submitPost.file_name = this.getCurrentPath();\n    let currentQuestion = this.getCookieById('user_current_question_index');\n    submitPost.qid = this.questionnaire.question_list[currentQuestion].qid;\n    submitPost.results = this.votesContent[this.getCookieById('user_current_question_index')];\n    submitPost.user_id = this.getCookieById('user_id');\n    return submitPost;\n  }\n\n  update() :void {\n    this.usedCredits.emit(this.usedCreditsArray);\n    this.votes.emit(this.votesContent);\n  }\n\n  modifyVotesByID(q_id, o_id, value) {\n    this.votesContent[q_id-1][o_id-1] = value;\n    this.usedCreditsArray[q_id-1] = calTotalCredits(this.votesContent[q_id-1]);    ;\n    this.update();\n  }\n\n  getQuestionnaire() {\n    let path = this.getCurrentPath();\n    const result = this.http.get(`${this.requestUrl}/api/qv/${path}`)\n    .pipe(\n      catchError(this.handleError)\n    )\n    let currentQuestion = this.getCookieById('user_current_question_index');\n    result.subscribe((data: Questionnaire) => {\n      console.log(data);\n      let height = data.question_list.length;\n      let votesArray = [];\n      for(let i = 0; i < height; i++){\n        votesArray.push(new Array(data.question_list[i].options.length).fill(0));\n      }\n      this.votesContent = votesArray;\n      this.usedCreditsArray = new Array(height).fill(0);\n      this.update();\n      this.questionSet.emit({currentQuestion: Number(currentQuestion), ...data});\n      this.questionnaire = data;\n    });\n    return;\n  }\n\n  submit(finalQuestionValue: string) {\n    let nextQuestionIndex: number = Number(this.getCookieById('user_current_question_index')) + 1;\n    let submitData: submitPostSchema = this.generateSubmitPost(false);\n    let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    let pathIndex = Number(this.getCookieById('user_current_path_index'));\n\n    if (nextQuestionIndex >= this.questionnaire.question_list.length) {\n      nextQuestionIndex = 0;\n      this.setCookieById('user_current_path_index', String(pathIndex+1));\n      if(pathArray[pathIndex+1]['type']===\"donation\"){\n        submitData.complete_flag = true;\n        return this.http.post(`${this.requestUrl}/submit`, \n        {submitData: submitData, finalQuestion: finalQuestionValue}).pipe(\n          catchError(this.handleError)\n        ).subscribe(data => {\n          this.router.navigate(['donation']);\n        });\n      }\n    }\n\n    if(pathArray[pathIndex+1]['type']=='normal'){\n      nextQuestionIndex = 0;\n      this.setCookieById('user_current_question_index', String(nextQuestionIndex));\n      return this.http.post(`${this.requestUrl}/submit`, submitData).pipe(\n        catchError(this.handleError)\n      ).subscribe(data => {\n        this.router.navigate(['likert']);\n      });\n    }else{\n      this.setCookieById('user_current_question_index', String(nextQuestionIndex));\n      this.getQuestionnaire();\n\n      return this.http.post(`${this.requestUrl}/submit`, submitData).pipe(\n        catchError(this.handleError)\n      ).subscribe(data => {\n      });\n    }\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.log(error)\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, throwError, Observable, empty} from 'rxjs';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LikertService {\n  requestUrl = environment.apiUrl;\n  likertForm: BehaviorSubject<Object> = new BehaviorSubject({});\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) { }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  getCurrentPath() :string {\n    if(!this.cookieService.check('user_id')){\n      this.router.navigate(['/']);\n      return null;\n    }else{\n      let pathIndex = Number(this.getCookieById('user_current_path_index'));\n      let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n      return pathArray[pathIndex]['file'];\n    }\n  }\n\n  requestForm(){\n    let fileName: string = this.getCurrentPath();\n    let fileAPI = `${this.requestUrl}/api/qv/${fileName}`;\n    this.http.get(fileAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      console.log(data);\n      this.likertForm.next(data);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  };\n\n  isQVTestResultFailed(data){\n    let pathIndex = Number(this.getCookieById('user_current_path_index'));\n    let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    let currentFile =pathArray[pathIndex]['file'];\n    if (currentFile==='test_qv') {\n      let conditions = [\n        data['ac1']===\"(T) True\",\n        data['ac2']===\"(F) False\",\n        data['ac3']===\"(F) False\",\n        data['ac4']===\"(F) False\",\n        data['ac5']===\"(4) 20993\",\n        data['ac6']===\"(4) 12345\",\n      ];\n      let noFailedQuestion = 0;\n      conditions.forEach(val =>{\n        if (!val) {\n          noFailedQuestion ++;\n        }\n      });\n      if (noFailedQuestion>2) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  submit(data){\n    let pathIndex = Number(this.getCookieById('user_current_path_index'));\n    let userId = this.cookieService.get('user_id');\n    let gp = this.cookieService.get('user_gp');\n    let path_id = this.cookieService.get('user_path_id');\n    if(this.isQVTestResultFailed(data)){\n      // fail the QVTest and delete all cookies\n      this.http.post(`${this.requestUrl}/api/disqualify`, {\n        gp: gp,\n        userid: userId,\n        path_id: path_id\n      }).subscribe(res => {\n        this.cookieService.deleteAll('/');\n        this.http.get(`${this.requestUrl}/thank_you/thank_attention`).subscribe(\n          data => {\n            this.router.navigate(['complete', {userId: userId, ...data}])\n          }\n        )\n      })\n      return empty();\n    };\n\n    this.cookieService.set('user_current_path_index', String(pathIndex+1),undefined,'/');\n    return this.http.post(`${this.requestUrl}/submit`,\n      {\n        data: data,\n        userId: userId,\n      }\n    ).pipe(\n      catchError(this.handleError)\n    )\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, throwError, Observable, empty} from 'rxjs';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport { Video } from '../schema/video';\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideoService {\n  requestUrl = environment.apiUrl;\n  videoForm: BehaviorSubject<Video> = new BehaviorSubject(null);\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) { }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  getCurrentPath() :string {\n    if(!this.cookieService.check('user_id')){\n      this.router.navigate(['/']);\n      return null;\n    }else{\n      let pathIndex = Number(this.getCookieById('user_current_path_index'));\n      let pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n      console.log(pathArray);\n      return pathArray[pathIndex]['file'];\n    }\n  }\n\n  requestForm(){\n    let fileName: string = this.getCurrentPath();\n    let fileAPI = `${this.requestUrl}/api/qv/${fileName}`;\n    this.http.get(fileAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe((data: Video) => {\n      this.videoForm.next(data);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  };\n\n  submit(data){\n    let pathIndex = Number(this.getCookieById('user_current_path_index'));\n    let userId = this.cookieService.get('user_id');\n    \n    this.cookieService.set('user_current_path_index', String(pathIndex+1),undefined,'/');\n    return this.http.post(`${this.requestUrl}/submit-video-setting`,\n      {\n        data: data,\n        userId: userId,\n      }\n    ).pipe(\n      catchError(this.handleError)\n    )\n  }\n\n}\n","export default \".sticky {\\n  position: -webkit-sticky;\\n  /* Safari */\\n  position: sticky;\\n  bottom: 15px;\\n  z-index: 3;\\n}\\n\\n.error {\\n  color: red;\\n  font-size: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC9zdW1tYXJ5L3N1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N1bW1hcnkvc3VtbWFyeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdCQUFBO0VBQTBCLFdBQUE7RUFDMUIsZ0JBQUE7RUFDSCxZQUFBO0VBQ0csVUFBQTtBQ0VKOztBRENBO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3N1bW1hcnkvc3VtbWFyeS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdGlja3kge1xyXG4gICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5OyAvKiBTYWZhcmkgKi9cclxuICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcblx0Ym90dG9tOiAxNXB4O1xyXG4gICAgei1pbmRleDogMztcclxufVxyXG5cclxuLmVycm9ye1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufSAiLCIuc3RpY2t5IHtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICAvKiBTYWZhcmkgKi9cbiAgcG9zaXRpb246IHN0aWNreTtcbiAgYm90dG9tOiAxNXB4O1xuICB6LWluZGV4OiAzO1xufVxuXG4uZXJyb3Ige1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE1cHg7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { GlobalService } from '../services/global.service';\nimport { Questionnaire } from '../schema/questionnaire';\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\nimport { FormControl, Validators } from '@angular/forms';\nimport { SwalPortalTargets } from '@sweetalert2/ngx-sweetalert2';\n@Component({\n  selector: 'app-summary',\n  templateUrl: './summary.component.html',\n  styleUrls: ['./summary.component.scss']\n})\nexport class SummaryComponent implements OnInit {\n  usedCredits: number = 0;\n  totalCredits: number;\n  percentage: number = 0;\n  type: string;\n  submitForm = new FormControl('', [Validators.required, Validators.minLength(1)]);\n  @ViewChild('confirmSubmit',{static: true}) confirmSubmitSwal: SwalComponent;\n  @ViewChild('submitSuccess', {static: true}) submitSuccessSwal: SwalComponent;\n  constructor(\n    public readonly swalTargets: SwalPortalTargets,\n    protected gService: GlobalService,\n  ) {}\n\n  submitFinalForm() {\n    this.submitSuccessSwal.dismiss().then(\n      ()=>this.gService.submit(this.submitForm.value)\n    )\n  }\n  submit() {\n    if(this.usedCredits == 0) {\n      this.confirmSubmitSwal.fire();\n    }else{\n      this.submitSuccessSwal.fire();\n    }\n  }\n\n  ngAfterViewInit() {\n  }\n\n  ngOnInit() {\n    this.gService.questionSet.subscribe((data: Questionnaire) =>{\n      this.totalCredits = data.question_list[data.currentQuestion].totalCredits;\n      this.gService.usedCredits.subscribe(usedCredits=>{\n        this.usedCredits = usedCredits[data.currentQuestion];\n        let percentage = (this.usedCredits/this.totalCredits)*100;\n        this.type = 'info';\n        this.percentage = percentage;\n      })\n    })\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N1cnZleS9zdXJ2ZXkuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, EventEmitter, Output} from '@angular/core';\nimport * as Survey from \"survey-angular\";\ninterface jsonInput {\n  questions: object,\n  showNav: boolean,\n}\n@Component({\n  selector: 'app-survey',\n  templateUrl: './survey.component.html',\n  styleUrls: ['./survey.component.scss']\n})\nexport class SurveyComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n  @Output() resultEmit: EventEmitter<any> = new EventEmitter();\n  @Output() suveyModel: EventEmitter<Survey.Model> = new EventEmitter();\n  @Input()\n  set json(value: jsonInput) {\n    const that = this;\n    const surveyModel = new Survey.Model(value.questions);\n    surveyModel.showCompletedPage = false;\n    Survey.SurveyNG.render(\"surveyElement\", {\n      model: surveyModel,\n      isExpanded: true\n    });\n    surveyModel.showNavigationButtons = value.showNav;\n    that.suveyModel.emit(surveyModel);\n    surveyModel.onComplete.add(function (sender, options) {\n      that.resultEmit.emit(sender.data);\n    });\n  }\n}\n","export default \".video {\\n  width: 100%;\\n}\\n\\n.wrap-content {\\n  word-wrap: break-word;\\n}\\n\\n.content {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.content video {\\n  width: 100%;\\n  display: block;\\n}\\n\\n.content:before {\\n  content: \\\"\\\";\\n  background: black;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.original {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.original video {\\n  width: 100%;\\n  display: block;\\n}\\n\\n.original:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.wrapper {\\n  display: table;\\n  width: auto;\\n  position: relative;\\n  width: 70;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.playpause {\\n  background-image: url(http://png-4.findicons.com/files/icons/2315/default_icon/256/media_play_pause_resume.png);\\n  background-repeat: no-repeat;\\n  width: 50%;\\n  height: 50%;\\n  position: absolute;\\n  left: 0%;\\n  right: 0%;\\n  top: 0%;\\n  bottom: 0%;\\n  margin: auto;\\n  background-size: contain;\\n  background-position: center;\\n}\\n\\n::ng-deep .ng5-slider .ng5-slider-tick-legend {\\n  white-space: nowrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC8xM19CYXNoL1FWLWJ1eWJhY2svc3JjL2FwcC92aWRlby92aWRlby5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdmlkZW8vdmlkZW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxxQkFBQTtBQ0VKOztBREFBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FDR0o7O0FEREE7RUFDSSxXQUFBO0VBQ0EsY0FBQTtBQ0lKOztBREZBO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUNNSjs7QURKQTtFQUNJLFdBQUE7RUFDQSxjQUFBO0FDT0o7O0FETEE7RUFDSSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0FDUUo7O0FETkE7RUFDSSxjQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNTSjs7QURQQTtFQUNJLCtHQUFBO0VBQ0EsNEJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSx3QkFBQTtFQUNBLDJCQUFBO0FDVUo7O0FETlE7RUFDSSw4QkFBQTtBQ1NaIiwiZmlsZSI6InNyYy9hcHAvdmlkZW8vdmlkZW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmlkZW8ge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuLndyYXAtY29udGVudCB7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuLmNvbnRlbnQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbn1cbi5jb250ZW50IHZpZGVvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5jb250ZW50OmJlZm9yZSB7XG4gICAgY29udGVudDogJyc7XG4gICAgYmFja2dyb3VuZDogYmxhY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbn1cbi5vcmlnaW5hbCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuLm9yaWdpbmFsIHZpZGVvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5vcmlnaW5hbDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG59XG4ud3JhcHBlcntcbiAgICBkaXNwbGF5OnRhYmxlO1xuICAgIHdpZHRoOmF1dG87XG4gICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgd2lkdGg6NzA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5wbGF5cGF1c2Uge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHA6Ly9wbmctNC5maW5kaWNvbnMuY29tL2ZpbGVzL2ljb25zLzIzMTUvZGVmYXVsdF9pY29uLzI1Ni9tZWRpYV9wbGF5X3BhdXNlX3Jlc3VtZS5wbmcpO1xuICAgIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcbiAgICB3aWR0aDo1MCU7XG4gICAgaGVpZ2h0OjUwJTtcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICBsZWZ0OjAlO1xuICAgIHJpZ2h0OjAlO1xuICAgIHRvcDowJTtcbiAgICBib3R0b206MCU7XG4gICAgbWFyZ2luOmF1dG87XG4gICAgYmFja2dyb3VuZC1zaXplOmNvbnRhaW47XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xufVxuOjpuZy1kZWVwIHtcbiAgICAubmc1LXNsaWRlciB7XG4gICAgICAgIC5uZzUtc2xpZGVyLXRpY2stbGVnZW5kIHtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIFxufVxufSIsIi52aWRlbyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ud3JhcC1jb250ZW50IHtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuXG4uY29udGVudCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250ZW50IHZpZGVvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uY29udGVudDpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG59XG5cbi5vcmlnaW5hbCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5vcmlnaW5hbCB2aWRlbyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLm9yaWdpbmFsOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xufVxuXG4ud3JhcHBlciB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICB3aWR0aDogYXV0bztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogNzA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5wbGF5cGF1c2Uge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cDovL3BuZy00LmZpbmRpY29ucy5jb20vZmlsZXMvaWNvbnMvMjMxNS9kZWZhdWx0X2ljb24vMjU2L21lZGlhX3BsYXlfcGF1c2VfcmVzdW1lLnBuZyk7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogNTAlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDAlO1xuICByaWdodDogMCU7XG4gIHRvcDogMCU7XG4gIGJvdHRvbTogMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5cbjo6bmctZGVlcCAubmc1LXNsaWRlciAubmc1LXNsaWRlci10aWNrLWxlZ2VuZCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef} from '@angular/core';\nimport { VideoService } from '../services/video.service';\nimport { timer, Observable, Subscription } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport { Video } from '../schema/video';\nimport * as Survey from \"survey-angular\";\nimport { Options } from 'ng5-slider';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.component.html',\n  styleUrls: ['./video.component.scss']\n})\nexport class VideoComponent implements OnInit {\n\n  @ViewChild('videoPlayer', {static: false}) videoPlayer: ElementRef;\n  @ViewChild('videoOverlay', {static: false}) videoOverlay: ElementRef;\n  @ViewChild('audioPlayer', {static: false}) audioPlayer: ElementRef;\n  @ViewChild('canvas', {static: false}) canvas: ElementRef;\n\n  clicked: boolean = false;\n  survey: object;\n  canvasElement: HTMLCanvasElement;\n  videoOverlayElement: HTMLDivElement;\n  videoElement: HTMLVideoElement;\n  audioElement: HTMLAudioElement;\n  videoContainer = {  // we will add properties as needed\n    video : this.videoElement,\n    ready : false,\n    scale: null,\n  };\n  videoFilePrefix = environment.apiUrl+\"/api/video/\";\n  videoSrc = \"\";\n\n  audioFilePrefix = environment.apiUrl+\"/api/audio/\";\n  audioSrc = \"\";\n\n  configurations = {\n    \"Audio Quality\": '0',\n    \"Video Resolution\": '0',\n    \"Audio Stability\": '0',\n    \"Motion Smoothness\": '0',\n    \"Audio-Video Synchronization\": '0',\n  }\n\n  videoIsPlaying=false;\n\n  objectKeys = Object.keys;\n\n  videoConfig = new Array(5).fill(0);\n  videoConfigLength = new Array(5).fill(0);\n  sumUpCost = (arr) => {return arr.reduce((a, b) => a + b)}\n  formJson: any;\n\n  blackTimer: Observable<number>;\n  videoTimerSubscription: Subscription;\n\n  muteTimer: Observable<number>;\n  audioTimerSubscription: Subscription;\n\n  description: String;\n  title: String;\n\n  videoIsJittering = false;\n  jitterTempData = null;\n\n  showCost = false;\n  showConfig = false;\n  sliderOptions: Options = {\n    showTicksValues: true,\n    stepsArray: [\n      {value: 0, legend: 'As is'},\n      {value: 1, legend: 'Lv. 1'},\n      {value: 2, legend: 'Lv. 2'},\n      {value: 3, legend: 'Lv. 3'}\n    ]\n  };\n  saveApply = {\n    save: false,\n    apply: false,\n  }\n  //videoConfigText = [\"UnChanged\",\"Slightly Enhanced\",\"Enhanced\",\"Perfected\"];\n  counter = 0;\n  constructor(\n    private vService: VideoService,\n    private cookieService: CookieService,\n    private route: Router,\n    ) { }\n\n  completeFunc: Function;\n\n  getSurvey(survey: Survey.Model){\n    this.completeFunc = survey.completeLastPage.bind(survey);\n  }\n\n  jitterVideo(jitterVal: number) {\n    if(this.videoTimerSubscription){\n      this.videoTimerSubscription.unsubscribe();\n    }\n    switch (jitterVal) {\n      case 0:\n        // play every 6 secs, pause 1.5 secs\n        this.blackTimer = timer(0, 6000);\n        break;\n      case 1:\n        // play every 16.5 secs, pause 1.5 secs\n        this.blackTimer = timer(0, 16500);\n        break;\n      case 2:\n        // play every 43.5 secs, pause 1.5 secs, stopping twice essentially\n        this.blackTimer = timer(0, 43500);\n        break;\n      case 3:\n        this.blackTimer = timer(0, 1000000);\n        break;\n    }\n    this.videoTimerSubscription = this.blackTimer.subscribe(val => {\n      if(this.videoIsPlaying){\n        this.videoIsJittering = true;\n        let freshback = timer(1500);\n        freshback.subscribe(d => {\n            this.videoIsJittering = false;\n        });\n      }\n    });\n  }\n\n  jitterAudio(jitterVal: number) {\n    if (this.audioTimerSubscription){\n      this.audioTimerSubscription.unsubscribe();\n    }\n    switch (jitterVal) {\n      case 0:\n        // play every 6 secs, pause 1.5 secs\n        this.muteTimer = timer(0, 6000);\n        break;\n      case 1:\n        // play every 13.5 secs, pause 1.5 secs\n        this.muteTimer = timer(0, 13500);\n        break;\n      case 2:\n        // play every 28.5 secs, pause 1.5 secs, stopping 3 times essentially\n        this.muteTimer = timer(0, 28500);\n        break;\n      case 3:\n        this.muteTimer = timer(0, 1000000);\n        break;\n      }\n    this.audioTimerSubscription = this.muteTimer.subscribe(val => {\n      if(this.videoIsPlaying) {\n        this.audioElement.volume = 0;\n        let freshback = timer(1500);\n        freshback.subscribe(d => {\n          if(this.videoIsPlaying){\n            this.audioElement.volume = 1;\n          }\n        });\n      }\n    });\n  }\n\n  syncAudioWithVideo() {\n    const syncAudioWithVideoValue = Number(this.configurations['Audio-Video Synchronization']);\n    switch (syncAudioWithVideoValue) {\n      case 0:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.850;\n        break;\n       case 1:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.615;\n        break;\n      case 2:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.050;\n        break;\n      case 3:\n        this.audioElement.currentTime = this.videoElement.currentTime;\n        break;\n    }\n  }\n\n  refreshPlayback() {\n    let that = this;\n    this.videoIsPlaying = true;\n    this.unsubscribeSurvices();\n    this.reassignVideoSrc(); \n    this.syncAudioWithVideo();\n    this.videoElement.addEventListener('loadeddata', function() {\n      if(that.counter != 0 ) {\n        that.videoElement.play();\n        that.audioElement.play();\n      }\n      that.counter ++;\n      console.log(that.counter)\n      let ctx = that.canvasElement.getContext(\"2d\");\n      that.videoContainer.scale = Math.min(\n        ctx.canvas.width / this.videoWidth,\n        ctx.canvas.height  / this.videoHeight);\n      that.videoContainer.ready = true;\n      requestAnimationFrame(that.updateCanvas.bind(that));\n    }, false);\n    this.jitterAudio(Number(this.configurations['Audio Stability']));\n    this.jitterVideo(Number(this.configurations['Motion Smoothness']));\n  }\n\n  reassignVideoSrc() {\n    let time = Date.now();\n    this.videoSrc = this.videoFilePrefix + this.formJson['filename'] + '-vq' + this.configurations['Video Resolution']+\".webm?t=\"+time;\n    this.audioSrc = this.audioFilePrefix + this.formJson['filename'] + '-aq' + this.configurations['Audio Quality']+\".m4a?t=\"+time;\n    let videoTempTime = this.videoElement.currentTime;\n    let audioTempTime = this.audioElement.currentTime;\n    this.videoElement.src = this.videoSrc;\n    this.audioElement.src = this.audioSrc;\n    this.videoElement.currentTime = videoTempTime;\n    this.audioElement.currentTime = audioTempTime;\n  }\n\n  unsubscribeSurvices() {\n    if(this.audioTimerSubscription){\n      this.audioTimerSubscription.unsubscribe();\n    }\n    if(this.videoTimerSubscription){\n      this.videoTimerSubscription.unsubscribe();\n    }\n  }\n\n  updateCanvas(){\n    this.canvasElement = this.canvas.nativeElement;\n    var ctx = this.canvasElement.getContext(\"2d\");\n    if(!this.videoIsJittering){\n      ctx.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);\n    }\n    if(this.videoContainer !== undefined && this.videoContainer.ready){\n        // find the top left of the video on the canvas\n        var scale = this.videoContainer.scale;\n        var vidH = this.videoContainer.video.videoHeight;\n        var vidW = this.videoContainer.video.videoWidth;\n        var top = ctx.canvas.height / 2 - (vidH /2 ) * scale;\n        var left = ctx.canvas.width / 2 - (vidW /2 ) * scale;\n        if(!this.videoIsJittering) {\n          ctx.drawImage(this.videoContainer.video, left, top, vidW * scale, vidH * scale);\n          if(this.videoContainer.video.paused){ // if not playing show the paused screen\n              this.drawPayIcon();\n          }\n        }\n    }\n    requestAnimationFrame(this.updateCanvas.bind(this));\n  }\n\n  onRadioCheck() {\n    this.videoConfig = Object.values(this.configurations).map(a => Number(a));\n    this.refreshPlayback();\n  }\n\n  playPause() {\n    if(this.videoIsPlaying){\n      this.audioElement.pause();\n      this.videoElement.pause();\n      this.videoIsPlaying = false;\n    } else {\n      this.audioElement.play();\n      this.videoElement.play();\n      this.videoIsPlaying = true;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  decidePath() {\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    const type: string = pathArray[pathIndex]['type'];\n    if(type == 'normal'){\n      this.route.navigate(['likert']);\n    } else if(type == 'qv'){\n      this.route.navigate(['qv']);\n    } else if(type == 'video'){\n      this.route.navigate(['video']).then(()=>location.reload());\n    } else if(type == 'complete'){\n      const userID = this.cookieService.get('user_id');\n      this.cookieService.deleteAll('/');\n      this.route.navigate(['complete', {userId: userID, text: null, title: null }]);\n    }\n  }\n\n  ngOnDestroy()\t{\n    this.videoSrc = \"\";\n    this.audioSrc = \"\";\n    this.videoElement.src = this.videoSrc;\n    this.audioElement.src = this.audioSrc;\n    this.audioElement.pause();\n    this.videoElement.pause();\n    this.unsubscribeSurvices();\n    this.videoElement.remove();\n    this.audioElement.remove();\n    this.videoIsPlaying = false;\n  }\n\n  ngAfterViewInit()\t {\n    this.configurations = {\n      'Audio Quality': '0',\n      'Video Resolution': '0',\n      'Audio Stability': '0',\n      'Motion Smoothness': '0',\n      'Audio-Video Synchronization': '0',\n    }\n    this.videoElement = this.videoPlayer.nativeElement;\n    this.audioElement = this.audioPlayer.nativeElement;\n    this.videoOverlayElement = this.videoOverlay.nativeElement;\n    this.canvasElement = this.canvas.nativeElement;\n    this.videoContainer.video = this.videoElement;\n    this.vService.requestForm();\n    this.vService.videoForm.subscribe((data: Video) => {\n      if(data){\n        console.log(data) \n        this.formJson = data;\n        this.survey = {\n          questions: data.settings.normal,\n          showNav: false,\n        }\n        this.saveApply = {\n          save: data.settings.save,\n          apply: data.settings.apply,\n        }\n        if(this.saveApply.apply){\n          this.videoConfig = JSON.parse(this.cookieService.get('video_config'));\n          this.configurations[\"Audio Quality\"] = this.videoConfig[0];\n          this.configurations[\"Video Resolution\"] = this.videoConfig[1];\n          this.configurations[\"Audio Stability\"] = this.videoConfig[2];\n          this.configurations[\"Motion Smoothness\"] = this.videoConfig[3];\n          this.configurations[\"Audio-Video Synchronization\"] = this.videoConfig[4];\n          console.log(this.videoConfig)\n        }\n        this.description = data.Description;\n        this.title = data.Title;\n        this.showCost = data.settings.control_panel_has_price;\n        this.showConfig = data.settings.control_panel_can_change;\n        let time: String = Date.now().toString();\n        this.videoSrc = this.videoFilePrefix + this.formJson['filename'] + '-vq' + this.configurations['Video Resolution'] + '.webm?t=' + time;\n        this.audioSrc = this.audioFilePrefix + this.formJson['filename'] + '-av' + this.configurations['Audio Quality'] + '.m4a?t=' + time;\n        this.videoElement.src = this.videoSrc;\n        this.audioElement.src = this.audioSrc;\n        \n        this.sliderOptions = Object.assign(\n          {}, this.sliderOptions,\n          {disabled: !data.settings.control_panel_can_change}\n        );\n        this.refreshPlayback();\n      }\n    })\n  }\n\n  submit(e: Event){\n    if (this.completeFunc){\n      this.completeFunc();\n    } else {\n      this.surveySubmit(null);\n    }\n  }\n\n  surveySubmit(data) {\n    this.clicked = true;\n    this.videoElement.pause();\n    if(this.saveApply.save) {\n      this.cookieService.set('video_config', JSON.stringify(this.videoConfig));\n    }\n    this.vService.submit({videoConfig: this.videoConfig, counter: this.counter}).subscribe(\n      result => {\n        this.decidePath();\n      }\n    );\n  }\n\n  // implementation based on https://stackoverflow.com/questions/38710125/how-do-i-display-a-video-using-html5-canvas-tag\n  drawPayIcon(){\n    this.canvasElement = this.canvas.nativeElement;\n    let ctx = this.canvasElement.getContext(\"2d\");\n    let canvas = this.canvasElement;\n    ctx.fillStyle = \"black\";  // darken display\n    ctx.globalAlpha = 0.5;\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n    ctx.fillStyle = \"#DDD\"; // colour of play icon\n    ctx.globalAlpha = 0.75; // partly transparent\n    ctx.beginPath(); // create the path for the icon\n    var size = (canvas.height / 2) * 0.5;  // the size of the icon\n    ctx.moveTo(canvas.width/2 + size/2, canvas.height / 2); // start at the pointy end\n    ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 + size);\n    ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 - size);\n    ctx.closePath();\n    ctx.fill();\n    ctx.globalAlpha = 1; // restore alpha\n}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3dlbGNvbWUvd2VsY29tZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CookieService } from 'ngx-cookie-service';\nimport { GlobalService } from '../services/global.service';\nimport { User } from '../schema/user';\nimport {NgForm} from '@angular/forms';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.scss']\n})\nexport class WelcomeComponent implements OnInit {\n  condition_one: boolean = false;\n  condition_two: boolean = false;\n  condition_three: boolean = false;\n  isSubmit: boolean;\n  blockAccess: boolean = false;\n  constructor(\n    private gService: GlobalService,\n    private router: Router,\n    private cookieService: CookieService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.blockAccess = navigator.userAgent.indexOf(\"Safari\") != -1 && !(navigator.userAgent.indexOf(\"Chrome\") != -1)\n    console.log(navigator.userAgent)\n    console.log(this.blockAccess);\n    if(this.cookieService.check('user_id')){\n      let pathIndex = Number(this.cookieService.get('user_current_path_index'));\n      let pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n      let type: string = pathArray[pathIndex]['type'];\n      if(type == 'normal'){\n        this.router.navigate(['likert']);\n      } else if(type == 'qv'){\n        this.router.navigate(['qv']);\n      } else if(type == 'video'){\n        this.router.navigate(['video']).then(()=>location.reload());\n      } else {\n        this.router.navigate(['welcome']);\n      }\n    }\n  }\n\n  initCookie(user: User){\n    this.cookieService.set('user_gp', user.gp, undefined, '/');\n    this.cookieService.set('user_path_id', user.path_id, undefined, '/');\n    this.cookieService.set('user_current_question_index', String(0),undefined,'/');\n    this.cookieService.set('user_complete_flag', String(user.complete_flag),undefined,'/');\n    this.cookieService.set('user_path', JSON.stringify(user.path),undefined,'/');\n    this.cookieService.set('user_id', user.userid,undefined,'/');\n    this.cookieService.set('user_current_path_index', String(0),undefined,'/');\n  }\n\n  createUser() {\n    this.isSubmit = true;\n    if(this.condition_one && this.condition_two && this.condition_three){\n      if(!this.cookieService.check('user_id')){\n        let userGP = this.route.snapshot.paramMap.get('id');\n        this.gService.getUserID(userGP).subscribe((user: User) => {\n          this.initCookie(user);\n          if(user.path_id == \"thank_you\"){\n            const userID = this.cookieService.get('user_id');\n            this.cookieService.deleteAll('/');\n            this.router.navigate(['complete', {userId: userID, text: null, title: null }])\n          }else{\n            this.router.navigate(['demographic']);\n          }\n        })\n      }else{\n        this.router.navigate(['demographic']);\n      }\n    }\n  }\n\n  cancel() {\n    alert(\"Please close the browser.\");\n      //TODO jump to thank you page since closeTab function\n      //is not allowed in chrome 41+\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:5000'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}