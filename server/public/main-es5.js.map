{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.html","webpack:///src/app/complete/complete.component.html","webpack:///src/app/demographic/demographic.component.html","webpack:///src/app/donation/donation.component.html","webpack:///src/app/likert/likert.component.html","webpack:///src/app/option/option.component.html","webpack:///src/app/questionnaire/questionnaire.component.html","webpack:///src/app/summary/summary.component.html","webpack:///src/app/survey/survey.component.html","webpack:///src/app/video/video.component.html","webpack:///src/app/welcome/welcome.component.html","webpack:///node_modules/tslib/tslib.es6.js","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.scss","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/complete/complete.component.scss","webpack:///src/app/complete/complete.component.ts","webpack:///src/app/demographic/demographic.component.scss","webpack:///src/app/demographic/demographic.component.ts","webpack:///src/app/donation/donation.component.scss","webpack:///src/app/donation/donation.component.ts","webpack:///src/app/likert/likert.component.scss","webpack:///src/app/likert/likert.component.ts","webpack:///src/app/option/option.component.scss","webpack:///src/app/option/option.component.ts","webpack:///src/app/questionnaire/questionnaire.component.scss","webpack:///src/app/questionnaire/questionnaire.component.ts","webpack:///src/app/services/demographic.service.ts","webpack:///src/app/services/donation.service.ts","webpack:///src/app/services/global.service.ts","webpack:///src/app/services/likert.service.ts","webpack:///src/app/services/video.service.ts","webpack:///src/app/summary/summary.component.scss","webpack:///src/app/summary/summary.component.ts","webpack:///src/app/survey/survey.component.scss","webpack:///src/app/survey/survey.component.ts","webpack:///src/app/video/video.component.scss","webpack:///src/app/video/video.component.ts","webpack:///src/app/welcome/welcome.component.scss","webpack:///src/app/welcome/welcome.component.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","value","step","next","rejected","result","done","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__exportStar","m","__values","o","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","routes","path","component","AppRoutingModule","imports","forRoot","onSameUrlNavigation","AppComponent","title","selector","template","AppModule","declarations","providers","bootstrap","CompleteComponent","cookieService","route","deleteAll","snapshot","paramMap","get","text","url","DemographicComponent","demoFormService","demoForm","subscribe","data","questions","showNav","requestForm","submit","pathIndex","Number","getCookieById","pathArray","JSON","parse","type","navigate","location","reload","shuffle","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","DonationComponent","donationService","MAX","organizations","sum","ogObserver","ogs","donations","forEach","console","log","complete","requestOrganizations","orgId","LikertComponent","liService","http","json","html","requestUrl","apiUrl","userId","post","file","thankYouData","likertForm","disabled","jsonFile","decidePath","OptionComponent","gService","questionSet","currentQuestionIndex","currentQuestion","question_list","currentOptions","options","votes","fill","totalCredits","totalCredit","vote","index","isMinus","currentDirection","currentCredits","calCurrentTotalCredits","difference","pow","abs","isNextPossibleTotalCreditsOK","oIndex","originalVote","votesContent","modifyVotesByID","QuestionnaireComponent","currentQuestionNum","currentFileNum","numQuestion","numFile","questionnaire","questionContent","questionDes","description","questionTitle","question","getQuestionnaire","DemographicService","donationAPI","pipe","handleError","ErrorEvent","message","status","submitAPI","providedIn","DonationService","completeJsonAPI","completeJSON","donation","calTotalCredits","votesArray","qTotalUsedCredits","GlobalService","router","usedCredits","userGP","gp","val","set","undefined","completeFlag","submitPost","complete_flag","file_name","getCurrentPath","qid","results","user_id","emit","usedCreditsArray","qId","oId","update","checkRoute","height","finalQuestionValue","nextQuestionIndex","submitData","generateSubmitPost","currentFileName","setCookieById","String","finalQuestion","fileName","LikertService","check","fileAPI","currentFile","conditions","decideWhetherPassTest","minFailedQuestionNumber","noFailedQuestion","pathId","isQVTestResultFailed","userid","res","VideoService","videoForm","SummaryComponent","swalTargets","percentage","submitForm","required","minLength","submitSuccessSwal","dismiss","confirmSubmitSwal","fire","static","SurveyComponent","resultEmit","suveyModel","that","surveyModel","showCompletedPage","render","model","isExpanded","showNavigationButtons","onComplete","add","sender","VideoComponent","vService","clicked","videoContainer","video","videoElement","ready","scale","videoFilePrefix","videoSrc","audioFilePrefix","audioSrc","configurations","videoIsPlaying","objectKeys","videoConfig","videoConfigLength","videoIsJittering","jitterTempData","showCost","showConfig","sliderOptions","showTicksValues","animate","stepsArray","legend","saveApply","save","counter","sumUpCost","arr","reduce","survey","completeFunc","completeLastPage","bind","jitterVal","videoTimerSubscription","unsubscribe","blackTimer","freshback","audioTimerSubscription","muteTimer","audioElement","volume","syncAudioWithVideoValue","currentTime","unsubscribeSurvices","reassignVideoSrc","syncAudioWithVideo","addEventListener","play","ctx","canvasElement","getContext","min","canvas","width","videoWidth","videoHeight","requestAnimationFrame","updateCanvas","jitterAudio","jitterVideo","time","Date","now","userID","formJson","videoTempTime","audioTempTime","src","nativeElement","clearRect","vidH","vidW","top","left","drawImage","paused","drawPayIcon","values","map","refreshPlayback","pause","settings","normal","Description","Title","control_panel_has_price","control_panel_can_change","toString","showPanel","remove","videoPlayer","audioPlayer","videoOverlayElement","videoOverlay","surveySubmit","stringify","fillStyle","globalAlpha","fillRect","beginPath","size","moveTo","lineTo","closePath","WelcomeComponent","conditionOne","conditionTwo","conditionThree","blockAccess","navigator","userAgent","user","setCookie","path_id","isSubmit","getUserID","initCookie","alert","environment","production","bootstrapModule","catch","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"\\n<router-outlet></router-outlet>\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n<div class=\\\"container\\\">\\n\\t<div class=\\\"container\\\">\\n\\t\\t<h1>{{title}}</h1>\\n\\t</div>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<ul class=\\\"list-group list-group-flush\\\">\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\n\\t\\t\\t\\t\\t\\tTo be paid, you will need the following code:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-4\\\" style=\\\"color: darkred;\\\">\\n\\t\\t\\t\\t\\t\\t{{code}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<!--<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<p>Please return to the original hit page and paste in the code above. After pasting the code, You can download the debrief information about this experiment <a href='/download/debrief' target=\\\"_blank\\\">here.</a></p>\\n\\t\\t\\t\\t</div>-->\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div class=\\\"container\\\" [innerHTML]=\\\"text\\\"></div>\\n</div>\\n\"","export default \"<app-survey [json]=\\\"demoForm\\\" (resultEmit)=\\\"submit($event)\\\"></app-survey>\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n<div class=\\\"container\\\">\\n\\t<div class=\\\"container\\\">\\n\\t\\t<h1>Lottery & Donation</h1>\\n\\t\\t<p>\\n\\t\\t\\tYou have entered a lottery where one person will win $35. You will win $35 with a chance of 1 out of 70.\\n\\t\\t\\tIf you win the lottery, you can choose to donate part of or all of the winning amount to <b>one or more\\n\\t\\t\\t\\torganizations</b> listed below. The research team will <b>match $1 to each $1 you donate</b> on your\\n\\t\\t\\tbehalf. The amount you choose to keep will be paid through a MTurk bonus. Please specify the donation\\n\\t\\t\\tdollar amount to your organization of interest. To learn more about each organization, you can click on\\n\\t\\t\\tthe hyperlink of the organization name and visit its website and a new tab or new window would open.\\n\\t\\t\\t<br><br>\\n\\t\\t\\tIf you are the winner of the lottery, the research team will donate the specified amount plus the\\n\\t\\t\\tmatched amount to the chosen organizations on your behalf, and the amount you choose to keep will be\\n\\t\\t\\tpaid through bonus on MTurk.\\n\\t\\t\\t<br><br>\\n\\t\\t\\tPlease allocate the desired dollar amount for donation to the organizations of your interest.\\n\\t\\t</p>\\n\\t</div>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<ul class=\\\"list-group list-group-flush\\\">\\n\\t\\t\\t<li class=\\\"list-group-item\\\" *ngFor=\\\"let org of this.organizations; let i = index\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\" style=\\\"color: white;\\\">\\n\\t\\t\\t\\t\\t\\t{{org.orgId}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t\\t<div [innerHTML]=\\\"org.org\\\"></div>\\n\\t\\t\\t\\t\\t\\t<!--{{org.org}}-->\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\">\\n\\t\\t\\t\\t\\t\\t$ <input min=\\\"0\\\" max=\\\"35\\\" [(ngModel)]=\\\"donations[org.orgId]\\\" (keyup)=\\\"caculate(org.orgId)\\\"\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"display: inline; width: 80%\\\" type=\\\"number\\\" min=\\\"0\\\" class=\\\"form-control\\\"\\n\\t\\t\\t\\t\\t\\t\\toninput=\\\"validity.valid||(value='');\\\" onkeyup=\\\"validity.valid||(value='');\\\"\\n\\t\\t\\t\\t\\t\\t\\tonkeydown=\\\"validity.valid||(value='');\\\" onchange=\\\"validity.valid||(value='');\\\"\\n\\t\\t\\t\\t\\t\\t\\tonclick=\\\"validity.valid||(value='');\\\" id=\\\"org.orgId\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\"></div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">{{org.description}}</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\"> </div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-1\\\">\\n\\t\\t\\t\\t\\t\\tSubtotal:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-3\\\">\\n\\t\\t\\t\\t\\t\\t$ {{sum}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"list-group-item\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-2\\\">\\n\\t\\t\\t\\t\\t\\tSummary:\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-8\\\">\\n\\t\\t\\t\\t\\t\\tIf you win the lottery, you will donate ${{sum}} and receive ${{MAX-sum}}. The research team\\n\\t\\t\\t\\t\\t\\twill match ${{sum}} for your donation.\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-2\\\">\\n\\t\\t\\t\\t\\t\\t<button (click)=\\\"submit()\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">Submit</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\\n\"","export default \"<app-survey *ngIf=\\\"json.questions\\\" [json]=\\\"json\\\" (resultEmit)=\\\"submit($event)\\\"></app-survey>\\n<div *ngIf=\\\"html\\\" class=\\\"container\\\">\\n    <div [innerHTML]=\\\"html\\\"></div>\\n    <button (click)=\\\"submit(null, $event)\\\" type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\">\\n        Submit\\n    </button>\\n</div>\\n\"","export default \"<div class=\\\"container\\\">\\n    <ul class=\\\"list-group list-group-flush\\\">\\n        <li class=\\\"list-group-item\\\" *ngFor=\\\"let option of this.currentOptions; let i = index\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-1\\\">\\n                    <button (click)=\\\"modifyVotesByID(i, 1)\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm\\\" [disabled]=\\\"isDisabled(i, false)\\\">\\n                            <i class=\\\"fas fa-plus\\\"></i>\\n                    </button>\\n                    <button (click)=\\\"modifyVotesByID(i, -1)\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm\\\" [disabled]=\\\"isDisabled(i, true)\\\">\\n                        <i class=\\\"fas fa-minus\\\"></i>\\n                    </button>\\n                </div>\\n                <div class=\\\"col-8\\\">\\n                    {{option.option}}\\n                    <div *ngIf=\\\"votes[i] >= 0; then tick else cross\\\"></div>\\n                    <ng-template #tick>\\n                        <i *ngFor=\\\"let k of [].constructor(votes[i])\\\" class=\\\"far fa-check-circle tick\\\"></i>\\n                    </ng-template>\\n                    <ng-template #cross>\\n                        <i *ngFor=\\\"let k of [].constructor(-votes[i])\\\" class=\\\"far fa-times-circle cross\\\"></i>\\n                    </ng-template>\\n                </div>\\n                <div class=\\\"col-3\\\">\\n                    <small style=\\\"float: left; margin: 0\\\">0%</small>\\n                    <small style=\\\"float: right; margin: 0\\\">100%</small>\\n                    <progressbar *ngIf=\\\"votes[i]>=0\\\" type=\\\"info\\\" style=\\\"width: 100%;\\\" [max]=\\\"this.totalCredits\\\" [value]=\\\"votes[i]*votes[i]\\\" [striped]=\\\"true\\\" [animate]=\\\"true\\\">\\n                            <i>{{((votes[i]*votes[i])/this.totalCredits)*100 | number : '1.2-2'}}%</i>\\n                    </progressbar>\\n                    <progressbar *ngIf=\\\"votes[i]<0\\\" type=\\\"warning\\\" style=\\\"width: 100%;\\\" [max]=\\\"this.totalCredits\\\" [value]=\\\"votes[i]*votes[i]\\\" [striped]=\\\"true\\\" [animate]=\\\"true\\\">\\n                        <i>{{((votes[i]*votes[i])/this.totalCredits)*100 | number : '1.2-2'}}%</i>\\n                    </progressbar>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                    <div class=\\\"col-1\\\"></div>\\n                    <div class=\\\"col-8\\\">{{option.description}}</div>\\n                    <div class=\\\"col-3\\\"> Casted {{votes[i]}} vote(s), cost {{votes[i]*votes[i]}} credit(s)</div>\\n\\n            </div>\\n        </li>\\n\\n    </ul>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-2\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t\\t<div class=\\\"progress\\\">\\n\\t\\t\\t<div class=\\\"progress-bar progress-bar-striped progress-bar-animated\\\"\\n\\t\\t\\t\\t[style.width.%]=\\\"(currentQuestionNum+1/numQuestion)*100\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"col-sm-2\\\" align=\\\"right\\\">\\n\\t\\tPart {{currentFileNum}} Q{{currentQuestionNum+1}} / {{numFile}} Parts\\n\\t</div>\\n</nav>\\n\\n\\n<div class=\\\"container\\\">\\n\\t<br>\\n\\t<h1>{{questionTitle}}</h1>\\n\\t<video *ngIf=\\\"questionTitle=='QV Dry Run: Understanding what is Quadratic Voting'\\\" controls><source src=\\\"/api/video/qv.webm\\\"></video>\\n\\n\\t<h4 *ngIf=\\\"questionTitle=='QV Dry Run: Understanding what is Quadratic Voting'\\\">Please watch the video above and play around with the interface below. Once you are ready, click submit and answer a few questions to check your understanding of what QV is. <br></h4>\\n\\t<br>\\n\\t<br>\\n\\n\\t<p *ngIf=\\\"questionTitle!='QV Dry Run: Understanding what is Quadratic Voting'\\\">People have different preferences in\\n\\t\\thow important different video elements are. Here we listed 5 different video elements. For each of the elements listed below, <b> how important do you think the video elements were to understanding the video given limited bandwidth on a flight?</b></p>\\n\\t<p>\\n\\t\\tFor this question, you will use a <b>Binary Quadratic Voting</b> method to express your preferences.\\n\\t\\t<br><br>\\n\\t\\tYou will be given a budget of a certain number of <b> voice credits</b>. You will use the available credits to\\n\\t\\tcast votes. If you think a video element is more important, you can cast multiple\\n\\t\\tupvotes using the <b>+1 sign</b>. If you believe that an element is less important, you can cast a few downvotes using the <b> -1 sign</b>. If you are neutral about an element, you can choose to cast <b> no vote</b>.\\n\\n\\t\\t<br><br>\\n\\t\\t<b> Based on the intensity of your opinion, you can cast one or more upvotes or downvotes for each video element</b>. The\\n\\t\\tstronger your opinion is, the more votes you can put on one option. At the same time, as the number of votes\\n\\t\\tincreases, the voice credits it costs increase quadratically, i.e. <b> X votes will cost X<sup>2</sup> (square of X)\\n\\t\\t\\tcredits</b>. The cost of some common number of votes is specified in the table below:\\n\\t</p>\\n\\t<table align=\\\"center\\\">\\n\\t\\t<tbody>\\n\\t\\t\\t<tr align=\\\"center\\\">\\n\\t\\t\\t\\t<th>Number of up or down votes</th>\\n\\t\\t\\t\\t<td align=\\\"center\\\">1</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">2</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">3</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">4</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">5</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">6</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">7</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">8</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">9</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">10</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t<!-- <tr align=\\\"center\\\">\\n\\t\\t\\t\\t\\t<th align=\\\"center\\\">&dArr;</th>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t\\t<td align=\\\"center\\\">&dArr;</td>\\n\\t\\t\\t\\t</tr> -->\\n\\t\\t\\t<tr align=\\\"right\\\">\\n\\t\\t\\t\\t<th align=\\\"right\\\">Cost in number of voice credits</th>\\n\\t\\t\\t\\t<td align=\\\"center\\\">1</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">4</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">9</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">16</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">25</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">36</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">49</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">64</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">81</td>\\n\\t\\t\\t\\t<td align=\\\"center\\\">100</td>\\n\\t\\t\\t</tr>\\n\\t\\t</tbody>\\n\\t</table>\\n\\t<p>\\n\\t\\t<br>\\n\\t\\t<b>You cannot exceed the budget of given voice credits, but you do not have to use up all the available credits\\n\\t\\t\\teither. </b> You can see the total number of voice credits you have and the number of credits you have spent\\n\\t\\talready in the Summary section below.\\n\\t</p>\\n\\t<hr>\\n\\t<div [innerHTML]=\\\"questionDes\\\"></div>\\n</div>\\n<br>\\n\\n<app-option></app-option>\\n\\n<br>\\n<br>\\n\\n<app-summary></app-summary>\\n<br>\\n\"","export default \"<swal\\n  #confirmSubmit\\n  title=\\\"Submit with 0 vote?\\\"\\n  text=\\\"This cannot be undone\\\"\\n  icon=\\\"question\\\"\\n  [showCancelButton]=\\\"true\\\"\\n  [focusCancel]=\\\"true\\\"\\n  (confirm)=\\\"submitSuccessSwal.fire()\\\">\\n</swal>\\n<swal\\n  #submitSuccess\\n  icon=\\\"question\\\"\\n  [showCancelButton]=\\\"false\\\"\\n  [showConfirmButton]=\\\"false\\\"\\n>\\n<form *swalPortal=\\\"swalTargets.content\\\" >\\n    <p>\\n        In a few sentences, why did you choose to vote this way?\\n    </p>\\n    <textarea\\n        class=\\\"swal2-textarea\\\"\\n        type=\\\"text\\\"\\n        [formControl]=\\\"submitForm\\\"\\n        autofocus\\n    ></textarea>\\n    <label *ngIf=\\\"submitForm.invalid\\\" [ngClass] = \\\"'error'\\\" > Your response required with min 1 character. </label>\\n    <br/>\\n    <button\\n    (click)=\\\"submitFinalForm()\\\"\\n    *ngIf=\\\"!submitForm.invalid\\\"\\n    class=\\\"swal2-styled swal2-confirm\\\"> Submit</button>\\n\\n</form>\\n\\n</swal>\\n<div class=\\\"container sticky\\\">\\n    <div class=\\\"card\\\">\\n        <h5 class=\\\"card-header\\\">Summary</h5>\\n            <div class=\\\"card-body\\\">\\n                <h5 class=\\\"card-title\\\">Used {{usedCredits}} out of {{totalCredits}} credits</h5>\\n                <div class=\\\"card-text\\\">\\n                    <div>\\n                        <small style=\\\"float: left; margin: 0\\\">0</small>\\n                        <small style=\\\"float: right; margin: 0\\\">{{totalCredits}}</small>\\n                        <progressbar style=\\\"width: 100%; margin-bottom: 10px;\\\" [animate]=\\\"false\\\" [value]=\\\"percentage\\\" [type]=\\\"type\\\"></progressbar>\\n                    </div>\\n                </div>\\n                <button (click)=\\\"submit()\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">Submit</button>\\n            </div>\\n    </div>\\n</div>\\n\"","export default \"<div class=\\\"survey-container contentcontainer codecontainer\\\">\\n  <div id=\\\"surveyElement\\\"></div>\\n</div>\"","export default \"<div class=\\\"container\\\">\\n    <h1>\\n        {{title}}\\n    </h1>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm wrap-content\\\" [innerHTML]=\\\"description\\\"></div>\\n    </div>\\n\\n\\t<br>\\n    <h2>\\n        Video\\n    </h2>\\n\\t<hr>\\n    <div class=\\\"row justify-content-center\\\">\\n        <div style=\\\"justify-content: center;\\\" #videoOverlay class=\\\"original\\\" (click)=\\\"playPause()\\\">\\n            <video\\n                #videoPlayer\\n                style=\\\"display: none;\\\"\\n                src=\\\"\\\"\\n                ></video>\\n            <canvas #canvas\\n            style=\\\"margin-left:10%\\\"\\n            width=\\\"960px\\\" height=\\\"540px\\\"></canvas>\\n            </div>\\n        <audio\\n        #audioPlayer\\n        src=\\\"\\\">\\n        </audio>\\n    </div>\\n\\n   <p></p>\\n    <div >\\n\\t\\t<br>\\n\\t\\t<br>\\n        <h2>\\n            Configuration\\n        </h2>\\n        <div class=\\\"row\\\" *ngIf=\\\"this.showPanel\\\">\\n            <div class=\\\"col-sm wrap-content\\\">\\n                <table class=\\\"table\\\">\\n                    <thead>\\n                      <tr>\\n                        <th scope=\\\"col\\\">Configuration Name</th>\\n                        <th scope=\\\"col\\\" colspan=5>Level ( 0 ~ 3 )</th>\\n                        <th *ngIf=\\\"showCost\\\" scope=\\\"col\\\" colspan=3>Cost</th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr style=\\\"height: 100px;\\\"*ngFor=\\\"let k of objectKeys(configurations)\\\">\\n                            <th style=\\\"width: 20%;\\\"colspan=\\\"1\\\" scope=\\\"row\\\">{{k}}</th>\\n                            <td colspan=\\\"1\\\">\\n                                <!-- <ng5-slider\\n                                    [(value)]=\\\"configurations[k]\\\"\\n                                    [options]=\\\"sliderOptions\\\"\\n                                    (userChange)=\\\"onRadioCheck()\\\"></ng5-slider> -->\\n                                <div class=\\\"form-check\\\">\\n                                    <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" value=\\\"\\\" id=\\\"defaultCheck1\\\">\\n                                    <label class=\\\"form-check-label\\\" for=\\\"defaultCheck1\\\">\\n                                        Default checkbox\\n                                    </label>\\n                                </div>\\n                            </td>\\n                            <td *ngIf=\\\"showCost\\\" colspan=\\\"1\\\">\\n                                ${{configurations[k]*2}}\\n                            </td>\\n                        </tr>\\n                        <tr *ngIf=\\\"showCost\\\">\\n                            <th *ngIf=\\\"showCost\\\" scope=\\\"row\\\"></th>\\n                            <td colspan=\\\"7\\\">\\n                            </td>\\n                            <td>\\n                                Total: ${{sumUpCost(videoConfig)*2}}\\n                            </td>\\n                        </tr>\\n                    </tbody>\\n                  </table>\\n              </div>\\n        </div>\\n        <div  *ngIf=\\\"!this.showPanel\\\" class=\\\"container\\\">\\n            <div *ngFor=\\\"let item of configurations | keyvalue\\\">\\n                <div class=\\\"row\\\">\\n                    <b>{{item.key}}</b> : <b>{{item.value}}</b>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\t<br>\\n\\n\\t<h2 *ngIf=\\\"formJson && formJson.settings.normal\\\">Questions</h2>\\n    <h2 *ngIf=\\\"formJson && formJson.settings.normal\\\"></h2>\\n    <app-survey\\n        *ngIf=\\\"formJson && formJson.settings.normal\\\"\\n        [json]=\\\"survey\\\"\\n        (suveyModel)=\\\"getSurvey($event)\\\"\\n        (resultEmit)=\\\"surveySubmit($event)\\\">\\n    </app-survey>\\n\\n\\n    <button style=\\\"float: right;\\\" [disabled]=\\\"clicked\\\" (click)=\\\"submit($event)\\\" type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\">\\n        Submit\\n    </button>\\n</div>\\n\"","export default \"<nav class=\\\"navbar navbar-light bg-light\\\">\\n\\t<div class=\\\"col-sm-1\\\">\\n\\t\\t<br>\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n\\t<div class=\\\"col-sm\\\">\\n\\t</div>\\n</nav>\\n\\n<div *ngIf=\\\"!blockAccess\\\" class=\\\"container\\\">\\n\\t<form (ngSubmit)=\\\"createUser()\\\" class=\\\"was-validated\\\" #validForm=\\\"ngForm\\\">\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<h1>Welcome to the study</h1>\\n\\t\\t\\t<h4>Video Element Study Consent Form</h4>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou are being asked to participate in a voluntary research study. The purpose of this study is to understand how different people think about the importance of the different elements when watching a video. Participating in this study will involve you using an interface that provides a set of slider bars to experience how different combinations of video elements impact your watching experience. You will be asked to complete some tasks or surveys regarding the video. The entire survey will last around 8 to 16 minutes. There are no known risks associated with our study.\\n\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t- Principal Investigator Name and Title: Dr. Hari Sundaram\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t- Department and Institution: Department of Computer Science, the University of Illinois at Urbana Champaign\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t- Contact Information: <a target=\\\"_blank\\\" href=\\\"mailto:hs1@illinois.edu\\\">Dr. Hari Sundaram</a>\\n\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>What procedures are involved?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<b></b> A video interface will be presented to you. You will be asked to tune the different sliders to experience the impact of different video elements on the video. You will be asked to watch the entire video, but feel free to spend as much time as you like with the interface. A questionnaire or a task will then be presented to collect some of your experience watching the video.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will my study-related information be kept confidential?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tFaculty, students, and staff who may see your information will maintain confidentiality to the extent of laws and university policies. Personal identifiers are neither collected nor will be published or presented.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will I be reimbursed for any expenses or paid for my participation in this research?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou will be paid $1.25 base pay through MTurk when you are done with the study. You may receive an extra $0.75 or $1.25 bonus through MTurk when you complete the study if given one of the two longer versions of the survey. There might be an additional bonus based on the task you are assigned. Payment is dependent on your quality completion of the task.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Can I withdraw or be removed from the study?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tIf you decide to participate, you are free to withdraw your consent and discontinue participation at any time. The researchers also have the right to stop your participation in this study without your consent if they believe it is in your best interests, and/or you were to object to any future changes that may be made in the study plan. Your participation in this research is voluntary. Your decision whether or not to participate, or to withdraw after beginning participation, will not affect your current or future dealings with the University of Illinois at Urbana-Champaign.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5>Will data collected from me be used for any other research?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYour de-identified information could be used for future research without additional informed consent.\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h5>Who should I contact if I have questions?</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tQuestions about this research study should be directed to Dr. Hari Sundaram (hs1@illinois.edu) in the Department of Computer Science at the University of Illinois, Urbana-Champaign. If you have any questions about your rights as a participant in this study or any concerns or complaints, please contact the University of Illinois Institutional Review Board at 217-333-2670 or via irb@illinois.edu.\\n\\t\\t\\t</p>\\n\\t\\t\\t<h5> How will the results be disseminated?\\n\\t\\t\\t</h5>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tThe results will be disseminated via journal articles, academic paper, conference presentations, PhD thesis, and/or Open Science Framework. Please download and print this <a target=\\\"_blank\\\" href=\\\"/download/consent\\\">consent form </a> if you would like to retain a copy for your records.\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h5>Please use a Laptop or PC with Chrome, Firefox, or Microsoft Edge to complete this survey.</h5>\\n\\t\\t\\t<h5>By continuing, I certify that I have read this form and volunteer to participate in this research study.<br></h5>\\n\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"conditionOne\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition1\\\"\\n\\t\\t\\t\\t\\t\\trequired> I have read and understood the above consent form.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"conditionTwo\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition2\\\"\\n\\t\\t\\t\\t\\t\\trequired> I certify that I am 18 years old or older.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"form-group form-check\\\">\\n\\t\\t\\t\\t<label class=\\\"form-check-label\\\">\\n\\t\\t\\t\\t\\t<input [(ngModel)]=\\\"conditionThree\\\" class=\\\"form-check-input\\\" type=\\\"checkbox\\\" name=\\\"condition3\\\"\\n\\t\\t\\t\\t\\t\\trequired> I understand that by clicking the continue button to enter the survey, I indicate my willingness to voluntarily take part in this study.\\n\\t\\t\\t\\t\\t<div class=\\\"valid-feedback\\\">Valid.</div>\\n\\t\\t\\t\\t\\t<div class=\\\"invalid-feedback\\\">Check this checkbox to continue.</div>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"mr-2 btn btn-success\\\" [disabled]=\\\"!validForm.form.valid || isSubmit\\\">\\n\\t\\t\\t\\tStart Questionaire\\n\\t\\t\\t</button>\\n\\t\\t\\t<button (click)=\\\"cancel()\\\"type=\\\"button\\\" class=\\\"mr-2 btn btn-danger\\\" [disabled]=\\\"validForm.form.valid\\\">\\n\\t\\t\\t\\tCancel\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n<div *ngIf=\\\"blockAccess\\\" class=\\\"container\\\">\\n\\t<h1>The current browser cannot run this app.\\n\\n\\t<p>Please consider Firefox or Google Chrome</p>\\n<div>\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WelcomeComponent } from './welcome/welcome.component';\nimport { QuestionnaireComponent } from './questionnaire/questionnaire.component';\nimport { DonationComponent } from './donation/donation.component';\nimport { LikertComponent } from './likert/likert.component';\nimport { DemographicComponent } from './demographic/demographic.component';\nimport { CompleteComponent } from './complete/complete.component';\nimport { VideoComponent } from './video/video.component';\n\n\nconst routes: Routes = [\n  { path: 'welcome/:id', component: WelcomeComponent },\n  { path: 'demographic', component: DemographicComponent },\n  { path: 'qv', component: QuestionnaireComponent},\n  { path: 'donation', component: DonationComponent},\n  { path: 'likert', component: LikertComponent},\n  { path: 'video', component: VideoComponent},\n  { path: 'complete', component: CompleteComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","export default \".header {\\n  position: fixed;\\n  width: 100%;\\n  top: 0;\\n  background-color: aqua;\\n  z-index: 1090;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxXQUFBO0VBQ0EsTUFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRvcDogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XHJcbiAgICB6LWluZGV4OiAxMDkwO1xyXG59XHJcbiIsIi5oZWFkZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHdpZHRoOiAxMDAlO1xuICB0b3A6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XG4gIHotaW5kZXg6IDEwOTA7XG59Il19 */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'qv';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ProgressbarModule } from 'ngx-bootstrap/progressbar';\nimport { SummaryComponent } from './summary/summary.component';\nimport { OptionComponent } from './option/option.component';\nimport { WelcomeComponent } from './welcome/welcome.component';\nimport { QuestionnaireComponent } from './questionnaire/questionnaire.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DonationComponent } from './donation/donation.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { LikertComponent } from './likert/likert.component';\nimport { SurveyComponent } from './survey/survey.component';\nimport { DemographicComponent } from './demographic/demographic.component';\nimport { CompleteComponent } from './complete/complete.component';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport { VideoComponent } from './video/video.component';\nimport { Ng5SliderModule } from 'ng5-slider';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SummaryComponent,\n    OptionComponent,\n    WelcomeComponent,\n    QuestionnaireComponent,\n    DonationComponent,\n    LikertComponent,\n    SurveyComponent,\n    DemographicComponent,\n    CompleteComponent,\n    VideoComponent\n  ],\n  imports: [\n    ReactiveFormsModule,\n    Ng5SliderModule,\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    ProgressbarModule.forRoot(),\n    FormsModule,\n    SweetAlert2Module.forRoot(),\n  ],\n  providers: [ CookieService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBsZXRlL2NvbXBsZXRlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-complete',\n  templateUrl: './complete.component.html',\n  styleUrls: ['./complete.component.scss']\n})\nexport class CompleteComponent implements OnInit {\n  title: string;\n  text: string;\n  code: string;\n  url: string;\n  constructor(\n    private cookieService: CookieService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.cookieService.deleteAll('/');\n    this.title = this.route.snapshot.paramMap.get('title');\n    this.code = this.route.snapshot.paramMap.get('userId');\n    this.text = this.route.snapshot.paramMap.get('text');\n\n    if (this.title === 'null') {\n      this.title = 'Thank you';\n      this.code = 'Unfortunately the survey has collected enough response. Do not paste in anything to the original hit page.';\n      this.text = '';\n      this.url = '';\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW9ncmFwaGljL2RlbW9ncmFwaGljLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { DemographicService } from '../services/demographic.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-demographic',\n  templateUrl: './demographic.component.html',\n  styleUrls: ['./demographic.component.scss']\n})\nexport class DemographicComponent implements OnInit {\n  demoForm: Object;\n  constructor(\n    private route: Router,\n    private cookieService: CookieService,\n    private demoFormService: DemographicService\n  ) {}\n\n  ngOnInit() {\n    this.demoFormService.demoForm.subscribe(data => {\n      this.demoForm = {\n        questions: data['survey'],\n        showNav: true,\n      };\n    });\n    this.demoFormService.requestForm();\n  }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  submit(data) {\n    this.demoFormService.submit(data).subscribe(\n      result => {\n        const pathIndex = Number(this.getCookieById('user_current_path_index'));\n        const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n        const type: string = pathArray[pathIndex]['type'];\n        if (type === 'normal') {\n          this.route.navigate(['likert']);\n        } else if (type === 'video') {\n          this.route.navigate(['video']).then(() => location.reload());\n        } else {\n          this.route.navigate(['qv']);\n        }\n      }\n    );\n  }\n}\n","export default \"/* Chrome, Safari, Edge, Opera */\\ninput::-webkit-outer-spin-button,\\ninput::-webkit-inner-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n/* Firefox */\\ninput[type=number] {\\n  -moz-appearance: textfield;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC9kb25hdGlvbi9kb25hdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZG9uYXRpb24vZG9uYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0NBQUE7QUFDQTs7RUFFRSx3QkFBQTtFQUNBLFNBQUE7QUNDRjtBREVBLFlBQUE7QUFDQTtFQUNFLDBCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9kb25hdGlvbi9kb25hdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENocm9tZSwgU2FmYXJpLCBFZGdlLCBPcGVyYSAqL1xuaW5wdXQ6Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sXG5pbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgbWFyZ2luOiAwO1xufVxuXG4vKiBGaXJlZm94ICovXG5pbnB1dFt0eXBlPW51bWJlcl0ge1xuICAtbW96LWFwcGVhcmFuY2U6dGV4dGZpZWxkO1xufVxuIiwiLyogQ2hyb21lLCBTYWZhcmksIEVkZ2UsIE9wZXJhICovXG5pbnB1dDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcbmlucHV0Ojotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBtYXJnaW46IDA7XG59XG5cbi8qIEZpcmVmb3ggKi9cbmlucHV0W3R5cGU9bnVtYmVyXSB7XG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { DonationService } from '../services/donation.service';\nimport { isNull } from 'util';\n\nfunction shuffle(array) {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n}\n\n@Component({\n  selector: 'app-donation',\n  templateUrl: './donation.component.html',\n  styleUrls: ['./donation.component.scss']\n})\n\nexport class DonationComponent implements OnInit {\n  MAX = 35;\n  organizations: Array<Object> = [];\n  sum = 0;\n  donations;\n  constructor(\n    private donationService: DonationService\n  ) { }\n\n  ngOnInit() {\n    const ogObserver = {\n      next: ogs => {\n        this.organizations = shuffle(ogs)\n        this.donations = {};\n        this.organizations.forEach(v => {\n          this.donations[v['orgId']] = 0;\n        });\n      },\n      error: error => console.log('A error: ' + error),\n      complete: () => console.log('ogObserver complete!')\n    };\n    this.donationService.organizations.subscribe(ogObserver);\n    this.donationService.requestOrganizations();\n  }\n  caculate(orgId) {\n    this.sum = 0;\n    Object.keys(this.donations).forEach(key => {\n      this.sum = this.sum + this.donations[key];\n    });\n    if (this.sum > this.MAX) {\n      this.donations[orgId] = this.donations[orgId] - (this.sum - this.MAX);\n      this.sum = this.MAX;\n    }\n  }\n  submit() {\n    Object.keys(this.donations).forEach(key => {\n      if (isNull(this.donations[key])) {\n        this.donations[key] = 0;\n      }\n    });\n    this.donationService.submit(this.donations);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpa2VydC9saWtlcnQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input} from '@angular/core';\nimport { LikertService } from '../services/likert.service';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\n@Component({\n  selector: 'app-likert',\n  templateUrl: './likert.component.html',\n  styleUrls: ['./likert.component.scss']\n})\nexport class LikertComponent implements OnInit {\n  json: any = {questions: null};\n  html: object | boolean = false;\n  requestUrl: string = environment.apiUrl;\n  constructor(\n    private liService: LikertService,\n    private route: Router,\n    private cookieService: CookieService,\n    private http: HttpClient,\n  ) { }\n\n  decidePath() {\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    const type: string = pathArray[pathIndex]['type'];\n    if (type === 'normal') {\n      this.route.navigate(['likert']);\n      this.liService.requestForm();\n    } else if (type === 'qv') {\n      this.route.navigate(['qv']);\n    } else if (type === 'video') {\n      this.route.navigate(['video']).then(() => location.reload());\n    } else if (type === 'complete') {\n      const userId = this.cookieService.get('user_id');\n      this.http.post(`${this.requestUrl}/submit`, {userId, complete: true}).subscribe(d => {\n        this.cookieService.deleteAll('/');\n        const file = pathArray[pathIndex]['file'];\n        this.http.get(`${this.requestUrl}/thank_you/${file}`).subscribe(\n          thankYouData => {\n            this.route.navigate(['complete', {userId, ...thankYouData}]);\n          }\n        );\n      });\n    }\n  }\n\n  ngOnInit() {\n    this.liService.requestForm();\n    this.liService.likertForm.subscribe(data => {\n      if (data['survey']) {\n        this.json = {\n          questions: data['survey'],\n          showNav: true,\n        };\n        this.html = null;\n      }\n      if (data['html']) {\n        this.html = data['html'];\n      }\n    });\n  }\n\n  submit(data, e?) {\n    if (e) {\n      e.target.disabled = true;\n    }\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    const userId = this.cookieService.get('user_id');\n    this.liService.submit({...data, userId, jsonFile: pathArray[pathIndex]}).subscribe(\n      result => {\n        this.decidePath();\n      }\n    );\n  }\n}\n","export default \".tick {\\n  color: #007bff;\\n}\\n\\n.cross {\\n  color: orange;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQ0NKOztBRENBO0VBQ0ksYUFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvb3B0aW9uL29wdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aWNrIHtcclxuICAgIGNvbG9yOiAjMDA3YmZmO1xyXG59XHJcbi5jcm9zcyB7XHJcbiAgICBjb2xvcjogb3JhbmdlO1xyXG59IiwiLnRpY2sge1xuICBjb2xvcjogIzAwN2JmZjtcbn1cblxuLmNyb3NzIHtcbiAgY29sb3I6IG9yYW5nZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { GlobalService } from '../services/global.service';\nimport { Questionnaire } from '../schema/questionnaire'\nimport { Option } from '../schema/option';\n@Component({\n  selector: 'app-option',\n  templateUrl: './option.component.html',\n  styleUrls: ['./option.component.scss']\n})\nexport class OptionComponent implements OnInit {\n\n  votes: Array<number>;\n  currentOptions: Array<Option>;\n  totalCredits: number;\n  currentQuestionIndex: number;\n  constructor(\n    private gService: GlobalService, \n  ) { }\n\n  ngOnInit() {\n    this.gService.questionSet.subscribe((data: Questionnaire) => {\n      this.currentQuestionIndex = data.currentQuestion;\n      const currentQuestion = data.question_list[this.currentQuestionIndex];\n      this.currentOptions = currentQuestion.options;\n      this.votes = new Array(this.currentOptions.length).fill(0);\n      this.totalCredits = currentQuestion.totalCredits;\n      this.gService.votes.subscribe(votes => {\n        this.votes = votes[this.currentQuestionIndex];\n      });\n    });\n  }\n\n  calCurrentTotalCredits() {\n    let totalCredit = 0;\n    this.votes.forEach(vote => {\n      totalCredit = totalCredit + vote * vote;\n    });\n    return totalCredit;\n  }\n\n  isDisabled(index: number, isMinus: boolean) {\n    const currentDirection = isMinus ? this.votes[index] <= 0 : this.votes[index] >= 0;\n    const currentCredits = this.calCurrentTotalCredits();\n    const difference = Math.pow((Math.abs(this.votes[index]) + 1), 2) - Math.pow(this.votes[index], 2);\n    const isNextPossibleTotalCreditsOK = currentCredits + difference > this.totalCredits;\n    return currentDirection && isNextPossibleTotalCreditsOK;\n  }\n\n  modifyVotesByID(oIndex, value) {\n    const originalVote = this.gService.votesContent[\n      this.currentQuestionIndex\n    ][\n      oIndex\n    ];\n    this.gService.modifyVotesByID(this.currentQuestionIndex + 1, oIndex + 1, originalVote + value);\n  }\n}\n","export default \"td {\\n  padding-left: 0.5em;\\n  padding-right: 0.5em;\\n  width: 2em;\\n  border: 1px solid grey;\\n}\\n\\nth, tr {\\n  padding-left: 1em;\\n  padding-right: 1em;\\n  border: 1px solid grey;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC9xdWVzdGlvbm5haXJlL3F1ZXN0aW9ubmFpcmUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3F1ZXN0aW9ubmFpcmUvcXVlc3Rpb25uYWlyZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxVQUFBO0VBQ0Esc0JBQUE7QUNDRDs7QURHQTtFQUNDLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQ0FEIiwiZmlsZSI6InNyYy9hcHAvcXVlc3Rpb25uYWlyZS9xdWVzdGlvbm5haXJlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGQge1xuXHRwYWRkaW5nLWxlZnQ6IDAuNWVtO1xuXHRwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcblx0d2lkdGg6IDJlbTtcblx0Ym9yZGVyOiAxcHggc29saWQgZ3JleTtcbn1cblxuXG50aCwgdHIge1xuXHRwYWRkaW5nLWxlZnQ6IDFlbTtcblx0cGFkZGluZy1yaWdodDogMWVtO1xuXHRib3JkZXI6IDFweCBzb2xpZCBncmV5O1xufVxuIiwidGQge1xuICBwYWRkaW5nLWxlZnQ6IDAuNWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcbiAgd2lkdGg6IDJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcbn1cblxudGgsIHRyIHtcbiAgcGFkZGluZy1sZWZ0OiAxZW07XG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service';\nimport { GlobalService } from '../services/global.service';\nimport { User } from '../schema/user';\nimport { Questionnaire } from '../schema/questionnaire'\nimport { Question } from '../schema/question';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\n@Component({\n  selector: 'app-questionnaire',\n  templateUrl: './questionnaire.component.html',\n  styleUrls: ['./questionnaire.component.scss']\n})\nexport class QuestionnaireComponent implements OnInit {\n  questionnaire: Questionnaire;\n  currentQuestionNum = 0;\n  currentFileNum = 1;\n  numQuestion = 1;\n  numFile = 1;\n  questionTitle: string;\n  questionDes: string;\n  requestUrl: string = environment.apiUrl;\n  constructor(\n    private gService: GlobalService,\n    private route: Router,\n    private cookieService: CookieService,\n    private http: HttpClient,\n  ) { }\n\n  ngOnInit() {\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    console.log(pathArray[pathIndex]);\n    const type: string = pathArray[pathIndex]['type'];\n    if (type === 'normal') {\n      this.route.navigate(['likert']);\n    } else if (type === 'qv') {\n      this.gService.questionSet.subscribe((data: Questionnaire) => {\n        this.questionnaire = data;\n        this.currentQuestionNum = data.currentQuestion;\n        this.numQuestion = data.question_list.length;\n        const questionContent = data.question_list[this.currentQuestionNum];\n        this.questionDes = questionContent.description;\n        this.questionTitle = questionContent.question;\n        this.numFile = pathArray.length;\n        this.currentFileNum = pathIndex + 1;\n      });\n      this.gService.getQuestionnaire();\n    } else if (type === 'video') {\n      this.route.navigate(['video']).then(() => location.reload());\n    } else if (type === 'complete') {\n      const userId = this.cookieService.get('user_id');\n      this.http.post(`${this.requestUrl}/submit`, {userId, complete: true}).subscribe(d => {\n        this.cookieService.deleteAll('/');\n        this.route.navigate(['complete', {userId, text: null, title: null }]);\n      });\n    }\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { environment } from '../../environments/environment';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DemographicService {\n  requestUrl = environment.apiUrl;\n  demoForm: BehaviorSubject<Object> = new BehaviorSubject({});\n  constructor(\n    private cookieService: CookieService,\n    private http: HttpClient,\n  ) { }\n\n  requestForm() {\n    const donationAPI = `${this.requestUrl}/api/demographic`;\n    this.http.get(donationAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      this.demoForm.next(data);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  submit(data) {\n    const userId = this.getCookieById('user_id');\n    const submitAPI = `${this.requestUrl}/submit-demographic`;\n    return this.http.post(submitAPI,\n      {\n        userId,\n        data\n      }).pipe(\n      catchError(this.handleError)\n    );\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DonationService {\n  requestUrl = environment.apiUrl;\n  organizations: BehaviorSubject<Array<Object>> = new BehaviorSubject([]);\n  \n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private route: Router,\n  ) { }\n\n  requestOrganizations() {\n    const donationAPI = `${this.requestUrl}/api/donation`;\n    this.http.get(donationAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      this.organizations.next(data['donation']);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  };\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n  submit(data) {\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    const pathIndex = Number(this.getCookieById('user_current_path_index')) + 1;\n    const completeJsonAPI = `${this.requestUrl}/thank_you/${pathArray[pathIndex]['file']}`;\n    this.http.get(completeJsonAPI).subscribe(completeJSON => {\n      const userId = this.getCookieById('user_id');\n      this.cookieService.deleteAll('/');\n      const submitAPI = `${this.requestUrl}/submit-donation`;\n      this.http.post(submitAPI, {\n        donation: data,\n        userId,\n      }).pipe(\n        catchError(this.handleError)\n      ).subscribe(result => {\n        this.route.navigate(['complete', {...completeJSON, userId}]);\n      });\n    });\n  }\n}\n","import { Injectable, EventEmitter, Output} from '@angular/core';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { User } from '../schema/user';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { Questionnaire } from '../schema/questionnaire';\nimport { CookieService } from 'ngx-cookie-service';\nimport { submitPostSchema } from '../schema/submitPostSchema';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\nfunction calTotalCredits(votesArray) {\n  let qTotalUsedCredits = 0;\n  votesArray.forEach(vote => {\n    qTotalUsedCredits = qTotalUsedCredits + Math.pow(vote, 2);\n  });\n  return qTotalUsedCredits;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n  requestUrl = environment.apiUrl;\n  @Output() questionSet: EventEmitter<object> = new EventEmitter();\n  @Output() votes: EventEmitter<Array<Array<number>>> = new EventEmitter();\n  @Output() usedCredits: EventEmitter<Array<number>> = new EventEmitter();\n  votesContent: Array<Array<number>>;\n  usedCreditsArray: Array<number>;\n  questionnaire: Questionnaire;\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) {}\n\n  checkRoute() {\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    const type: string = pathArray[pathIndex]['type'];\n\n    if (type === 'normal') {\n      this.router.navigate(['likert']);\n    } else if (type === 'video') {\n      this.router.navigate(['video']).then(() => location.reload());\n    } else if (type === 'complete') {\n      const userId = this.cookieService.get('user_id');\n      this.cookieService.deleteAll('/');\n      const file = pathArray[pathIndex]['file'];\n      this.http.post(`${this.requestUrl}/submit`, {userId, complete: true}).subscribe(d => {\n        this.http.get(`${this.requestUrl}/thank_you/${file}`).subscribe(\n          thankYouData => {\n            this.router.navigate(['complete', {userId, ...thankYouData}]);\n          }\n        );\n      });\n    } else if (type === 'qv') {\n      return true;\n    }\n    return false;\n  }\n\n  getUserID(userGP: string) {\n    return this.http.post<User>(`${this.requestUrl}/createUser`, {gp: userGP})\n    .pipe(\n      catchError(this.handleError)\n    );\n  }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  setCookieById(id: string, val: string) {\n    this.cookieService.set(\n      id,\n      val,\n      undefined,\n      '/',\n      undefined,\n      false,\n      'Lax'\n      );\n  }\n\n  getCurrentPath(): string {\n    const pathIndex = Number(this.getCookieById('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    return pathArray[pathIndex]['file'];\n  }\n\n  generateSubmitPost(completeFlag: boolean) {\n    const submitPost: submitPostSchema = {} as submitPostSchema;\n    submitPost.complete_flag = completeFlag;\n    submitPost.file_name = this.getCurrentPath();\n    const currentQuestion = this.getCookieById('user_current_question_index');\n    submitPost.qid = this.questionnaire.question_list[currentQuestion].qid;\n    submitPost.results = this.votesContent[this.getCookieById('user_current_question_index')];\n    submitPost.user_id = this.getCookieById('user_id');\n    return submitPost;\n  }\n\n  update(): void {\n    this.usedCredits.emit(this.usedCreditsArray);\n    this.votes.emit(this.votesContent);\n  }\n\n  modifyVotesByID(qId, oId, value) {\n    this.votesContent[qId - 1][oId - 1] = value;\n    this.usedCreditsArray[qId - 1] = calTotalCredits(this.votesContent[qId - 1]);\n    this.update();\n  }\n\n  getQuestionnaire() {\n    if (this.checkRoute()) {\n      const path = this.getCurrentPath();\n      const result = this.http.get(`${this.requestUrl}/api/qv/${path}`)\n      .pipe(\n        catchError(this.handleError)\n      );\n      const currentQuestion = this.getCookieById('user_current_question_index');\n      result.subscribe((data: Questionnaire) => {\n        const height = data.question_list.length;\n        const votesArray = [];\n        for (let i = 0; i < height; i++) {\n          votesArray.push(new Array(data.question_list[i].options.length).fill(0));\n        }\n        this.votesContent = votesArray;\n        this.usedCreditsArray = new Array(height).fill(0);\n        this.update();\n        this.questionSet.emit({currentQuestion: Number(currentQuestion), ...data});\n        this.questionnaire = data;\n      });\n    }\n    return;\n  }\n\n  submit(finalQuestionValue: string) {\n    let nextQuestionIndex: number = Number(this.getCookieById('user_current_question_index')) + 1;\n    const submitData: submitPostSchema = this.generateSubmitPost(false);\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    const pathIndex = Number(this.getCookieById('user_current_path_index'));\n    const currentFileName = pathArray[pathIndex];\n    if (nextQuestionIndex >= this.questionnaire.question_list.length) {\n      nextQuestionIndex = 0;\n      this.setCookieById('user_current_path_index', String(pathIndex + 1));\n      this.router.navigate([this.router.url]);\n      if (pathArray[pathIndex + 1]['type'] === 'donation') {\n        submitData.complete_flag = true;\n        return this.http.post(`${this.requestUrl}/submit`,\n        {submitData, finalQuestion: finalQuestionValue, fileName: currentFileName}).pipe(\n          catchError(this.handleError)\n        ).subscribe(data => {\n          this.router.navigate(['donation']);\n        });\n      }\n    }\n\n    if (pathArray[pathIndex + 1]['type'] === 'normal') {\n      nextQuestionIndex = 0;\n      this.setCookieById('user_current_question_index', String(nextQuestionIndex));\n      return this.http.post(`${this.requestUrl}/submit`, {...submitData, fileName: currentFileName}).pipe(\n        catchError(this.handleError)\n      ).subscribe(data => {\n        this.router.navigate(['likert']);\n      });\n    } else {\n      this.setCookieById('user_current_question_index', String(nextQuestionIndex));\n      this.getQuestionnaire();\n\n      return this.http.post(`${this.requestUrl}/submit`, {...submitData, fileName: currentFileName}).pipe(\n        catchError(this.handleError)\n      ).subscribe(data => {\n      });\n    }\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.log(error);\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, throwError, Observable, empty} from 'rxjs';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LikertService {\n  requestUrl = environment.apiUrl;\n  likertForm: BehaviorSubject<Object> = new BehaviorSubject({});\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) { }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  getCurrentPath(): string {\n    if (!this.cookieService.check('user_id')) {\n      this.router.navigate(['/']);\n      return null;\n    } else {\n      const pathIndex = Number(this.getCookieById('user_current_path_index'));\n      const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n      return pathArray[pathIndex]['file'];\n    }\n  }\n\n  requestForm() {\n    const fileName: string = this.getCurrentPath();\n    const fileAPI = `${this.requestUrl}/api/qv/${fileName}`;\n    this.http.get(fileAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe(data => {\n      this.likertForm.next(data);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n\n\n  isQVTestResultFailed(data){\n    const pathIndex = Number(this.getCookieById('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    const currentFile = pathArray[pathIndex]['file'];\n    if (currentFile === 'test_qv') {\n      const conditions = [\n        data['qvt1'] === '(T) True',\n        data['qvt2'] === '(F) False',\n        data['qvt3'] === '(F) False',\n        data['qvt4'] === '(F) False',\n        data['qvt5'] === '(4) 20993',\n        data['qvt6'] === '(4) 12345',\n      ];\n      return this.decideWhetherPassTest(conditions, 2);\n    } else if (currentFile === 'test_video_element') {\n      const conditions = [\n        data['vet1'] === '(D) This refers to how clear or crisp the visual is in the video.',\n        data['vet2'] === '(E) This refers to how clear or crisp the audio.',\n        data['vet3'] === '(A) It means how much the visuals in a video stutters.',\n        data['vet4'] === '(C) It means whether the audio sounds choppy or fluent.',\n        data['vet5'] === '(B) It means how perfectly does the visual in the video match with the sound.',\n        data['vet6'] === '(3) An Apple',\n      ];\n      return this.decideWhetherPassTest(conditions, 2);\n    } else {\n      return false;\n    }\n  }\n\n  decideWhetherPassTest(conditions, minFailedQuestionNumber) {\n    let noFailedQuestion = 0;\n    conditions.forEach(val => {\n      if (!val) {\n        noFailedQuestion ++;\n      }\n    });\n    return noFailedQuestion > minFailedQuestionNumber;\n  }\n\n  submit(data) {\n    const pathIndex = Number(this.getCookieById('user_current_path_index'));\n    const userId = this.cookieService.get('user_id');\n    const gp = this.cookieService.get('user_gp');\n    const pathId = this.cookieService.get('user_path_id');\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    if (this.isQVTestResultFailed(data)) {\n      // fail the QVTest and delete all cookies\n      this.http.post(`${this.requestUrl}/api/disqualify`, {\n        gp: gp,\n        pathId: pathId,\n        userid: userId,\n      }).subscribe(res => {\n        this.cookieService.deleteAll('/');\n        this.http.get(`${this.requestUrl}/thank_you/thank_attention`).subscribe(\n          thankYouData => {\n            this.router.navigate(['complete', {userId: 'N/A', ...thankYouData}]);\n          }\n        );\n      });\n      return empty();\n    }\n    this.cookieService.set(\n      'user_current_path_index',\n      String(pathIndex + 1),\n      undefined,\n      '/',\n      undefined,\n      false,\n      'Lax'\n      );\n    return this.http.post(`${this.requestUrl}/submit`,\n      {\n        data,\n        userId,\n        fileName: pathArray[pathIndex],\n      }\n    ).pipe(\n      catchError(this.handleError)\n    );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, throwError, Observable, empty} from 'rxjs';\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport { Video } from '../schema/video';\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideoService {\n  requestUrl = environment.apiUrl;\n  videoForm: BehaviorSubject<Video> = new BehaviorSubject(null);\n  constructor(\n    private http: HttpClient,\n    private cookieService: CookieService,\n    private router: Router,\n  ) { }\n\n  getCookieById(id: string) {\n    return this.cookieService.get(id);\n  }\n\n  getCurrentPath(): string {\n    if (!this.cookieService.check('user_id')) {\n      this.router.navigate(['/']);\n      return null;\n    } else {\n      const pathIndex = Number(this.getCookieById('user_current_path_index'));\n      const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n      return pathArray[pathIndex]['file'];\n    }\n  }\n\n  requestForm() {\n    const fileName: string = this.getCurrentPath();\n    const fileAPI = `${this.requestUrl}/api/qv/${fileName}`;\n    this.http.get(fileAPI).pipe(\n      catchError(this.handleError)\n    ).subscribe((data: Video) => {\n      this.videoForm.next(data);\n    });\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n\n  submit(data) {\n    const pathArray: Array<object> = JSON.parse(this.getCookieById('user_path'));\n    const pathIndex = Number(this.getCookieById('user_current_path_index'));\n    const userId = this.cookieService.get('user_id');\n    this.cookieService.set(\n      'user_current_path_index',\n      String(pathIndex + 1),\n      undefined,\n      '/',\n      undefined,\n      false,\n      'Lax'\n      );\n      return this.http.post(`${this.requestUrl}/submit-video-setting`,\n      {\n        data,\n        userId,\n        fileName: pathArray[pathIndex],\n      }\n    ).pipe(\n      catchError(this.handleError)\n    );\n  }\n}\n","export default \".sticky {\\n  position: -webkit-sticky;\\n  /* Safari */\\n  position: sticky;\\n  bottom: 15px;\\n  z-index: 3;\\n}\\n\\n.error {\\n  color: red;\\n  font-size: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC9zdW1tYXJ5L3N1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N1bW1hcnkvc3VtbWFyeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdCQUFBO0VBQTBCLFdBQUE7RUFDMUIsZ0JBQUE7RUFDSCxZQUFBO0VBQ0csVUFBQTtBQ0VKOztBRENBO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3N1bW1hcnkvc3VtbWFyeS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdGlja3kge1xyXG4gICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5OyAvKiBTYWZhcmkgKi9cclxuICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcblx0Ym90dG9tOiAxNXB4O1xyXG4gICAgei1pbmRleDogMztcclxufVxyXG5cclxuLmVycm9ye1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufSAiLCIuc3RpY2t5IHtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICAvKiBTYWZhcmkgKi9cbiAgcG9zaXRpb246IHN0aWNreTtcbiAgYm90dG9tOiAxNXB4O1xuICB6LWluZGV4OiAzO1xufVxuXG4uZXJyb3Ige1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE1cHg7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { GlobalService } from '../services/global.service';\nimport { Questionnaire } from '../schema/questionnaire';\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\nimport { FormControl, Validators } from '@angular/forms';\nimport { SwalPortalTargets } from '@sweetalert2/ngx-sweetalert2';\n@Component({\n  selector: 'app-summary',\n  templateUrl: './summary.component.html',\n  styleUrls: ['./summary.component.scss']\n})\nexport class SummaryComponent implements OnInit {\n  usedCredits = 0;\n  totalCredits: number;\n  percentage = 0;\n  type: string;\n  submitForm = new FormControl('', [Validators.required, Validators.minLength(1)]);\n  @ViewChild('confirmSubmit', {static: true}) confirmSubmitSwal: SwalComponent;\n  @ViewChild('submitSuccess', {static: true}) submitSuccessSwal: SwalComponent;\n  constructor(\n    public readonly swalTargets: SwalPortalTargets,\n    protected gService: GlobalService,\n  ) {}\n\n  submitFinalForm() {\n    this.submitSuccessSwal.dismiss().then(\n      () => this.gService.submit(this.submitForm.value)\n    );\n  }\n\n  submit() {\n    if (this.usedCredits === 0) {\n      this.confirmSubmitSwal.fire();\n    } else {\n      this.submitSuccessSwal.fire();\n    }\n  }\n\n  ngOnInit() {\n    this.gService.questionSet.subscribe((data: Questionnaire) => {\n      this.totalCredits = data.question_list[data.currentQuestion].totalCredits;\n      this.gService.usedCredits.subscribe(usedCredits => {\n        this.usedCredits = usedCredits[data.currentQuestion];\n        const percentage = (this.usedCredits / this.totalCredits) * 100;\n        this.type = 'info';\n        this.percentage = percentage;\n      });\n    });\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N1cnZleS9zdXJ2ZXkuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, EventEmitter, Output} from '@angular/core';\nimport * as Survey from \"survey-angular\";\ninterface jsonInput {\n  questions: object,\n  showNav: boolean,\n}\n@Component({\n  selector: 'app-survey',\n  templateUrl: './survey.component.html',\n  styleUrls: ['./survey.component.scss']\n})\nexport class SurveyComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  @Output() resultEmit: EventEmitter<any> = new EventEmitter();\n  @Output() suveyModel: EventEmitter<Survey.Model> = new EventEmitter();\n\n  @Input()\n  set json(value: jsonInput) {\n    const that = this;\n    const surveyModel = new Survey.Model(value.questions);\n    surveyModel.showCompletedPage = false;\n    Survey.SurveyNG.render('surveyElement', {\n      model: surveyModel,\n      isExpanded: true\n    });\n    surveyModel.showNavigationButtons = value.showNav;\n    that.suveyModel.emit(surveyModel);\n    surveyModel.onComplete.add((sender, options) => {\n      that.resultEmit.emit(sender.data);\n    });\n  }\n}\n","export default \".video {\\n  width: 100%;\\n}\\n\\n.wrap-content {\\n  word-wrap: break-word;\\n}\\n\\n.content {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.content video {\\n  width: 100%;\\n  display: block;\\n}\\n\\n.content:before {\\n  content: \\\"\\\";\\n  background: black;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.original {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.original video {\\n  width: 100%;\\n  display: block;\\n}\\n\\n.original:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.wrapper {\\n  display: table;\\n  width: auto;\\n  position: relative;\\n  width: 70;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.playpause {\\n  background-image: url(http://png-4.findicons.com/files/icons/2315/default_icon/256/media_play_pause_resume.png);\\n  background-repeat: no-repeat;\\n  width: 50%;\\n  height: 50%;\\n  position: absolute;\\n  left: 0%;\\n  right: 0%;\\n  top: 0%;\\n  bottom: 0%;\\n  margin: auto;\\n  background-size: contain;\\n  background-position: center;\\n}\\n\\n::ng-deep .ng5-slider .ng5-slider-tick-legend {\\n  white-space: nowrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5rL0Rlc2t0b3Avd29ya3BsYWNlL1FWLWJ1eWJhY2svc3JjL2FwcC92aWRlby92aWRlby5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdmlkZW8vdmlkZW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxxQkFBQTtBQ0VKOztBREFBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FDR0o7O0FEREE7RUFDSSxXQUFBO0VBQ0EsY0FBQTtBQ0lKOztBREZBO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUNNSjs7QURKQTtFQUNJLFdBQUE7RUFDQSxjQUFBO0FDT0o7O0FETEE7RUFDSSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0FDUUo7O0FETkE7RUFDSSxjQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNTSjs7QURQQTtFQUNJLCtHQUFBO0VBQ0EsNEJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSx3QkFBQTtFQUNBLDJCQUFBO0FDVUo7O0FETlE7RUFDSSw4QkFBQTtBQ1NaIiwiZmlsZSI6InNyYy9hcHAvdmlkZW8vdmlkZW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmlkZW8ge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuLndyYXAtY29udGVudCB7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuLmNvbnRlbnQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbn1cbi5jb250ZW50IHZpZGVvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5jb250ZW50OmJlZm9yZSB7XG4gICAgY29udGVudDogJyc7XG4gICAgYmFja2dyb3VuZDogYmxhY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbn1cbi5vcmlnaW5hbCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuLm9yaWdpbmFsIHZpZGVvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5vcmlnaW5hbDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG59XG4ud3JhcHBlcntcbiAgICBkaXNwbGF5OnRhYmxlO1xuICAgIHdpZHRoOmF1dG87XG4gICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgd2lkdGg6NzA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5wbGF5cGF1c2Uge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHA6Ly9wbmctNC5maW5kaWNvbnMuY29tL2ZpbGVzL2ljb25zLzIzMTUvZGVmYXVsdF9pY29uLzI1Ni9tZWRpYV9wbGF5X3BhdXNlX3Jlc3VtZS5wbmcpO1xuICAgIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcbiAgICB3aWR0aDo1MCU7XG4gICAgaGVpZ2h0OjUwJTtcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICBsZWZ0OjAlO1xuICAgIHJpZ2h0OjAlO1xuICAgIHRvcDowJTtcbiAgICBib3R0b206MCU7XG4gICAgbWFyZ2luOmF1dG87XG4gICAgYmFja2dyb3VuZC1zaXplOmNvbnRhaW47XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xufVxuOjpuZy1kZWVwIHtcbiAgICAubmc1LXNsaWRlciB7XG4gICAgICAgIC5uZzUtc2xpZGVyLXRpY2stbGVnZW5kIHtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIFxufVxufSIsIi52aWRlbyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ud3JhcC1jb250ZW50IHtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuXG4uY29udGVudCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250ZW50IHZpZGVvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uY29udGVudDpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG59XG5cbi5vcmlnaW5hbCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5vcmlnaW5hbCB2aWRlbyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLm9yaWdpbmFsOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xufVxuXG4ud3JhcHBlciB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICB3aWR0aDogYXV0bztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogNzA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5wbGF5cGF1c2Uge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cDovL3BuZy00LmZpbmRpY29ucy5jb20vZmlsZXMvaWNvbnMvMjMxNS9kZWZhdWx0X2ljb24vMjU2L21lZGlhX3BsYXlfcGF1c2VfcmVzdW1lLnBuZyk7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogNTAlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDAlO1xuICByaWdodDogMCU7XG4gIHRvcDogMCU7XG4gIGJvdHRvbTogMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5cbjo6bmctZGVlcCAubmc1LXNsaWRlciAubmc1LXNsaWRlci10aWNrLWxlZ2VuZCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewInit } from '@angular/core';\nimport { VideoService } from '../services/video.service';\nimport { timer, Observable, Subscription } from 'rxjs';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport { Video } from '../schema/video';\nimport * as Survey from 'survey-angular';\nimport { Options } from 'ng5-slider';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.component.html',\n  styleUrls: ['./video.component.scss']\n})\nexport class VideoComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  @ViewChild('videoPlayer', { static: false }) videoPlayer: ElementRef;\n  @ViewChild('videoOverlay', { static: false }) videoOverlay: ElementRef;\n  @ViewChild('audioPlayer', { static: false }) audioPlayer: ElementRef;\n  @ViewChild('canvas', { static: false }) canvas: ElementRef;\n\n  clicked = false;\n  survey: object;\n  canvasElement: HTMLCanvasElement;\n  videoOverlayElement: HTMLDivElement;\n  videoElement: HTMLVideoElement;\n  audioElement: HTMLAudioElement;\n  videoContainer = {  // we will add properties as needed\n    video: this.videoElement,\n    ready: false,\n    scale: null,\n  };\n  videoFilePrefix = environment.apiUrl + '/api/video/';\n  videoSrc = '';\n\n  audioFilePrefix = environment.apiUrl + '/api/audio/';\n  audioSrc = '';\n\n  configurations = {\n    'Audio Quality': '0',\n    'Video Resolution': '0',\n    'Audio Stability': '0',\n    'Motion Smoothness': '0',\n    'Audio-Video Synchronization': '0',\n  };\n\n  videoIsPlaying = false;\n\n  objectKeys = Object.keys;\n\n  videoConfig = new Array(5).fill(0);\n  videoConfigLength = new Array(5).fill(0);\n  formJson: any;\n\n  blackTimer: Observable<number>;\n  videoTimerSubscription: Subscription;\n\n  muteTimer: Observable<number>;\n  audioTimerSubscription: Subscription;\n\n  description: string;\n  title: string;\n\n  videoIsJittering = false;\n  jitterTempData = null;\n\n  showCost = false;\n  showConfig = false;\n  sliderOptions: Options = {\n    showTicksValues: true,\n    animate: false,\n    stepsArray: [\n      { value: 0, legend: 'As is' },\n      { value: 1, legend: 'Lv. 1' },\n      { value: 2, legend: 'Lv. 2' },\n      { value: 3, legend: 'Lv. 3' }\n    ]\n  };\n  saveApply = {\n    save: false,\n    apply: false,\n  };\n  counter = 0;\n  completeFunc: Function;\n  requestUrl: string = environment.apiUrl;\n  showPanel: boolean;\n  constructor(\n    private http: HttpClient,\n    private vService: VideoService,\n    private cookieService: CookieService,\n    private route: Router,\n  ) { }\n\n  sumUpCost = (arr) => arr.reduce((a, b) => a + b);\n\n  getSurvey(survey: Survey.Model) {\n    this.completeFunc = survey.completeLastPage.bind(survey);\n  }\n\n  jitterVideo(jitterVal: number) {\n    if (this.videoTimerSubscription) {\n      this.videoTimerSubscription.unsubscribe();\n    }\n    switch (jitterVal) {\n      case 0:\n        // play every 6 secs, pause 1.5 secs\n        this.blackTimer = timer(0, 6000);\n        break;\n      case 1:\n        // play every 16.5 secs, pause 1.5 secs\n        this.blackTimer = timer(0, 16500);\n        break;\n      case 2:\n        // play every 43.5 secs, pause 1.5 secs, stopping twice essentially\n        this.blackTimer = timer(0, 43500);\n        break;\n      case 3:\n        this.blackTimer = timer(0, 1000000);\n        break;\n    }\n    this.videoTimerSubscription = this.blackTimer.subscribe(val => {\n      if (this.videoIsPlaying) {\n        this.videoIsJittering = true;\n        const freshback = timer(1500);\n        freshback.subscribe(d => {\n          this.videoIsJittering = false;\n        });\n      }\n    });\n  }\n\n  jitterAudio(jitterVal: number) {\n    if (this.audioTimerSubscription) {\n      this.audioTimerSubscription.unsubscribe();\n    }\n    switch (jitterVal) {\n      case 0:\n        // play every 6 secs, pause 1.5 secs\n        this.muteTimer = timer(0, 6000);\n        break;\n      case 1:\n        // play every 13.5 secs, pause 1.5 secs\n        this.muteTimer = timer(0, 13500);\n        break;\n      case 2:\n        // play every 28.5 secs, pause 1.5 secs, stopping 3 times essentially\n        this.muteTimer = timer(0, 28500);\n        break;\n      case 3:\n        this.muteTimer = timer(0, 1000000);\n        break;\n    }\n    this.audioTimerSubscription = this.muteTimer.subscribe(val => {\n      if (this.videoIsPlaying) {\n        this.audioElement.volume = 0;\n        const freshback = timer(1500);\n        freshback.subscribe(d => {\n          if (this.videoIsPlaying) {\n            this.audioElement.volume = 1;\n          }\n        });\n      }\n    });\n  }\n\n  syncAudioWithVideo() {\n    const syncAudioWithVideoValue = Number(this.configurations['Audio-Video Synchronization']);\n    switch (syncAudioWithVideoValue) {\n      case 0:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.850;\n        break;\n      case 1:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.615;\n        break;\n      case 2:\n        this.audioElement.currentTime = this.videoElement.currentTime - 1.050;\n        break;\n      case 3:\n        this.audioElement.currentTime = this.videoElement.currentTime;\n        break;\n    }\n  }\n\n  refreshPlayback() {\n    const that = this;\n    this.videoIsPlaying = true;\n    this.unsubscribeSurvices();\n    this.reassignVideoSrc();\n    this.syncAudioWithVideo();\n    this.videoElement.addEventListener('loadeddata', function () {\n      if (that.counter !== 0) {\n        that.videoElement.play();\n        that.audioElement.play();\n      }\n      that.counter++;\n      const ctx = that.canvasElement.getContext('2d');\n      that.videoContainer.scale = Math.min(\n        ctx.canvas.width / this.videoWidth,\n        ctx.canvas.height / this.videoHeight);\n      that.videoContainer.ready = true;\n      requestAnimationFrame(that.updateCanvas.bind(that));\n    }, false);\n    this.jitterAudio(Number(this.configurations['Audio Stability']));\n    this.jitterVideo(Number(this.configurations['Motion Smoothness']));\n  }\n\n  reassignVideoSrc() {\n    const time = Date.now();\n    const userID = this.cookieService.get('user_id');\n    this.videoSrc =\n      this.videoFilePrefix + this.formJson['filename'] + '-vq' + this.configurations['Video Resolution'] + '.webm?t=' + time + '&userId=' + userID;\n    this.audioSrc =\n      this.audioFilePrefix + this.formJson['filename'] + '-aq' + this.configurations['Audio Quality'] + '.m4a?t=' + time + '&userId=' + userID;\n    const videoTempTime = this.videoElement.currentTime;\n    const audioTempTime = this.audioElement.currentTime;\n    this.videoElement.src = this.videoSrc;\n    this.audioElement.src = this.audioSrc;\n    this.videoElement.currentTime = videoTempTime;\n    this.audioElement.currentTime = audioTempTime;\n  }\n\n  unsubscribeSurvices() {\n    if (this.audioTimerSubscription) {\n      this.audioTimerSubscription.unsubscribe();\n    }\n    if (this.videoTimerSubscription) {\n      this.videoTimerSubscription.unsubscribe();\n    }\n  }\n\n  updateCanvas() {\n    this.canvasElement = this.canvas.nativeElement;\n    const ctx = this.canvasElement.getContext(\"2d\");\n    if (!this.videoIsJittering) {\n      ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n    }\n    if (this.videoContainer !== undefined && this.videoContainer.ready) {\n      // find the top left of the video on the canvas\n      const scale = this.videoContainer.scale;\n      const vidH = this.videoContainer.video.videoHeight;\n      const vidW = this.videoContainer.video.videoWidth;\n      const top = ctx.canvas.height / 2 - (vidH / 2) * scale;\n      const left = ctx.canvas.width / 2 - (vidW / 2) * scale;\n      if (!this.videoIsJittering) {\n        ctx.drawImage(this.videoContainer.video, left, top, vidW * scale, vidH * scale);\n        if (this.videoContainer.video.paused) {\n          this.drawPayIcon();\n        }\n      }\n    }\n    requestAnimationFrame(this.updateCanvas.bind(this));\n  }\n\n  onRadioCheck() {\n    this.videoConfig = Object.values(this.configurations).map(a => Number(a));\n    this.refreshPlayback();\n  }\n\n  playPause() {\n    if (this.videoIsPlaying) {\n      this.audioElement.pause();\n      this.videoElement.pause();\n      this.videoIsPlaying = false;\n    } else {\n      this.audioElement.play();\n      this.videoElement.play();\n      this.videoIsPlaying = true;\n    }\n  }\n\n  ngOnInit() {\n    this.vService.requestForm();\n    this.vService.videoForm.subscribe((data: Video) => {\n      if (data) {\n        console.log(data)\n        this.formJson = data;\n        this.survey = {\n          questions: data.settings.normal,\n          showNav: false,\n        }\n        this.saveApply = {\n          save: data.settings.save,\n          apply: data.settings.apply,\n        };\n        if (this.saveApply.apply) {\n          this.videoConfig = JSON.parse(this.cookieService.get('video_config'));\n          this.configurations = {\n            'Audio Quality': this.videoConfig[0],\n            'Video Resolution': this.videoConfig[1],\n            'Audio Stability': this.videoConfig[2],\n            'Motion Smoothness': this.videoConfig[3],\n            'Audio-Video Synchronization': this.videoConfig[4]\n          };\n        }\n        const userID = this.cookieService.get('user_id');\n        this.description = data.Description;\n        this.title = data.Title;\n        this.showCost = data.settings.control_panel_has_price;\n        this.showConfig = data.settings.control_panel_can_change;\n        const time = Date.now().toString();\n        this.videoSrc =\n          this.videoFilePrefix + this.formJson['filename'] + '-vq' +\n          this.configurations['Video Resolution'] + '.webm?t=' + time + '&userId=' + userID;\n        this.audioSrc =\n          this.audioFilePrefix + this.formJson['filename'] + '-av' +\n          this.configurations['Audio Quality'] + '.m4a?t=' + time + '&userId=' + userID;\n        this.videoElement.src = this.videoSrc;\n        this.audioElement.src = this.audioSrc;\n        this.showPanel =  data.settings.control_panel_can_change;\n        this.refreshPlayback();\n      }\n    });\n  }\n\n  decidePath() {\n    const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n    const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n    const type: string = pathArray[pathIndex]['type'];\n    if (type === 'normal') {\n      this.route.navigate(['likert']);\n    } else if (type === 'qv') {\n      this.route.navigate(['qv']);\n    } else if (type === 'video') {\n      this.route.navigate(['video']).then(() => location.reload());\n    } else if (type === 'complete') {\n      const userId = this.cookieService.get('user_id');\n      this.cookieService.deleteAll('/');\n      const file = pathArray[pathIndex]['file'];\n      this.http.post(`${this.requestUrl}/submit`, {userId, complete: true}).subscribe(d => {\n        this.http.get(`${this.requestUrl}/thank_you/${file}`).subscribe(\n          thankYouData => {\n            this.route.navigate(['complete', { userId, ...thankYouData }]);\n          }\n        );\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.videoSrc = '';\n    this.audioSrc = '';\n    this.videoElement.src = this.videoSrc;\n    this.audioElement.src = this.audioSrc;\n    this.audioElement.pause();\n    this.videoElement.pause();\n    this.unsubscribeSurvices();\n    this.videoElement.remove();\n    this.audioElement.remove();\n    this.videoIsPlaying = false;\n  }\n\n  ngAfterViewInit() {\n    this.videoElement = this.videoPlayer.nativeElement;\n    this.audioElement = this.audioPlayer.nativeElement;\n    this.videoOverlayElement = this.videoOverlay.nativeElement;\n    this.canvasElement = this.canvas.nativeElement;\n    this.videoContainer.video = this.videoElement;\n  }\n\n  submit(e: Event) {\n    if (this.completeFunc) {\n      this.completeFunc();\n    } else {\n      this.surveySubmit(null);\n    }\n  }\n\n  surveySubmit(data) {\n    this.clicked = true;\n    this.videoElement.pause();\n    if (this.saveApply.save) {\n      this.cookieService.set(\n        'video_config',\n        JSON.stringify(this.videoConfig),\n        undefined,\n        '/',\n        undefined,\n        false,\n        'Lax'\n        );\n    }\n    this.vService.submit({ videoConfig: this.videoConfig, counter: this.counter }).subscribe(\n      result => {\n        this.decidePath();\n      }\n    );\n  }\n\n  // implementation based on https://stackoverflow.com/questions/38710125/how-do-i-display-a-video-using-html5-canvas-tag\n  drawPayIcon() {\n    this.canvasElement = this.canvas.nativeElement;\n    const ctx = this.canvasElement.getContext(\"2d\");\n    const canvas = this.canvasElement;\n    ctx.fillStyle = 'black';  // darken display\n    ctx.globalAlpha = 0.5;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = '#DDD'; // colour of play icon\n    ctx.globalAlpha = 0.75; // partly transparent\n    ctx.beginPath(); // create the path for the icon\n    const size = (canvas.height / 2) * 0.5;  // the size of the icon\n    ctx.moveTo(canvas.width / 2 + size / 2, canvas.height / 2); // start at the pointy end\n    ctx.lineTo(canvas.width / 2 - size / 2, canvas.height / 2 + size);\n    ctx.lineTo(canvas.width / 2 - size / 2, canvas.height / 2 - size);\n    ctx.closePath();\n    ctx.fill();\n    ctx.globalAlpha = 1; // restore alpha\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3dlbGNvbWUvd2VsY29tZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CookieService } from 'ngx-cookie-service';\nimport { GlobalService } from '../services/global.service';\nimport { User } from '../schema/user';\nimport {NgForm} from '@angular/forms';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.scss']\n})\nexport class WelcomeComponent implements OnInit {\n\n  conditionOne = false;\n  conditionTwo = false;\n  conditionThree = false;\n  blockAccess = false;\n  isSubmit: boolean;\n\n  constructor(\n    private gService: GlobalService,\n    private router: Router,\n    private cookieService: CookieService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.blockAccess = navigator.userAgent.indexOf('Safari') !== -1 && !(navigator.userAgent.indexOf('Chrome') !== -1);\n    if (this.cookieService.check('user_id')) {\n      const pathIndex = Number(this.cookieService.get('user_current_path_index'));\n      const pathArray: Array<object> = JSON.parse(this.cookieService.get('user_path'));\n      const type: string = pathArray[pathIndex]['type'];\n      if (type === 'normal') {\n        this.router.navigate(['likert']);\n      } else if (type === 'qv') {\n        this.router.navigate(['qv']);\n      } else if (type === 'video') {\n        this.router.navigate(['video']).then(() => location.reload());\n      } else {\n        this.router.navigate(['welcome']);\n      }\n    }\n  }\n  setCookie(id, val) {\n    this.cookieService.set(\n      id,\n      val,\n      undefined,\n      '/',\n      undefined,\n      false,\n      'Lax'\n      );\n  }\n  initCookie(user: User) {\n    this.setCookie('user_gp', user.gp);\n    this.setCookie('user_path_id', user.path_id);\n    this.setCookie('user_current_question_index', String(0));\n    this.setCookie('user_complete_flag', String(user.complete_flag));\n    this.setCookie('user_path', JSON.stringify(user.path));\n    this.setCookie('user_id', user.userid);\n    this.setCookie('user_current_path_index', String(0));\n  }\n\n  createUser() {\n    this.isSubmit = true;\n    if (this.conditionOne && this.conditionTwo && this.conditionTwo) {\n      if (!this.cookieService.check('user_id')) {\n        const userGP = this.route.snapshot.paramMap.get('id');\n        this.gService.getUserID(userGP).subscribe((user: User) => {\n          this.initCookie(user);\n          if (user.path_id === 'thank_you') {\n            const userID = this.cookieService.get('user_id');\n            this.cookieService.deleteAll('/');\n            this.router.navigate(['complete', {userId: userID, text: null, title: null }])\n          } else {\n            this.router.navigate(['demographic']);\n          }\n        });\n      } else {\n        this.router.navigate(['demographic']);\n      }\n    }\n  }\n\n  cancel() {\n    alert('Please close the browser.');\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:5000'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}